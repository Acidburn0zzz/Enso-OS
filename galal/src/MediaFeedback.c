/* MediaFeedback.c generated by valac 0.30.1, the Vala compiler
 * generated from MediaFeedback.vala, do not modify */

/**/
/*  Copyright (C) 2016 Rico Tzschichholz*/
/**/
/*  This program is free software: you can redistribute it and/or modify*/
/*  it under the terms of the GNU General Public License as published by*/
/*  the Free Software Foundation, either version 3 of the License, or*/
/*  (at your option) any later version.*/
/**/
/*  This program is distributed in the hope that it will be useful,*/
/*  but WITHOUT ANY WARRANTY; without even the implied warranty of*/
/*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the*/
/*  GNU General Public License for more details.*/
/**/
/*  You should have received a copy of the GNU General Public License*/
/*  along with this program.  If not, see <http://www.gnu.org/licenses/>.*/
/**/

#include <glib.h>
#include <glib-object.h>
#include <gio/gio.h>
#include <stdlib.h>
#include <string.h>


#define GALA_TYPE_DBUS_NOTIFICATIONS (gala_dbus_notifications_get_type ())
#define GALA_DBUS_NOTIFICATIONS(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_DBUS_NOTIFICATIONS, GalaDBusNotifications))
#define GALA_IS_DBUS_NOTIFICATIONS(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_DBUS_NOTIFICATIONS))
#define GALA_DBUS_NOTIFICATIONS_GET_INTERFACE(obj) (G_TYPE_INSTANCE_GET_INTERFACE ((obj), GALA_TYPE_DBUS_NOTIFICATIONS, GalaDBusNotificationsIface))

typedef struct _GalaDBusNotifications GalaDBusNotifications;
typedef struct _GalaDBusNotificationsIface GalaDBusNotificationsIface;

#define GALA_TYPE_DBUS_NOTIFICATIONS_PROXY (gala_dbus_notifications_proxy_get_type ())
typedef GDBusProxy GalaDBusNotificationsProxy;
typedef GDBusProxyClass GalaDBusNotificationsProxyClass;
#define _g_free0(var) (var = (g_free (var), NULL))
#define _g_hash_table_unref0(var) ((var == NULL) ? NULL : (var = (g_hash_table_unref (var), NULL)))

#define GALA_TYPE_MEDIA_FEEDBACK (gala_media_feedback_get_type ())
#define GALA_MEDIA_FEEDBACK(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_MEDIA_FEEDBACK, GalaMediaFeedback))
#define GALA_MEDIA_FEEDBACK_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_MEDIA_FEEDBACK, GalaMediaFeedbackClass))
#define GALA_IS_MEDIA_FEEDBACK(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_MEDIA_FEEDBACK))
#define GALA_IS_MEDIA_FEEDBACK_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_MEDIA_FEEDBACK))
#define GALA_MEDIA_FEEDBACK_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_MEDIA_FEEDBACK, GalaMediaFeedbackClass))

typedef struct _GalaMediaFeedback GalaMediaFeedback;
typedef struct _GalaMediaFeedbackClass GalaMediaFeedbackClass;
typedef struct _GalaMediaFeedbackPrivate GalaMediaFeedbackPrivate;
typedef struct _GalaMediaFeedbackFeedback GalaMediaFeedbackFeedback;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))
typedef struct _Block2Data Block2Data;
#define _g_thread_unref0(var) ((var == NULL) ? NULL : (var = (g_thread_unref (var), NULL)))
#define _gala_media_feedback_feedback_free0(var) ((var == NULL) ? NULL : (var = (gala_media_feedback_feedback_free (var), NULL)))
#define _g_thread_pool_free0(var) ((var == NULL) ? NULL : (var = (g_thread_pool_free (var, FALSE, TRUE), NULL)))
#define _vala_assert(expr, msg) if G_LIKELY (expr) ; else g_assertion_message_expr (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, msg);
#define _vala_return_if_fail(expr, msg) if G_LIKELY (expr) ; else { g_return_if_fail_warning (G_LOG_DOMAIN, G_STRFUNC, msg); return; }
#define _vala_return_val_if_fail(expr, msg, val) if G_LIKELY (expr) ; else { g_return_if_fail_warning (G_LOG_DOMAIN, G_STRFUNC, msg); return val; }
#define _vala_warn_if_fail(expr, msg) if G_LIKELY (expr) ; else g_warn_message (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, msg);

struct _GalaDBusNotificationsIface {
	GTypeInterface parent_iface;
	guint32 (*notify) (GalaDBusNotifications* self, const gchar* app_name, guint32 replaces_id, const gchar* app_icon, const gchar* summary, const gchar* body, gchar** actions, int actions_length1, GHashTable* hints, gint32 expire_timeout, GError** error);
};

struct _GalaMediaFeedback {
	GObject parent_instance;
	GalaMediaFeedbackPrivate * priv;
};

struct _GalaMediaFeedbackClass {
	GObjectClass parent_class;
};

struct _GalaMediaFeedbackPrivate {
	GDBusConnection* connection;
	GalaDBusNotifications* notifications;
	GRecMutex __lock_notifications;
	guint dbus_name_owner_changed_signal_id;
	guint32 notification_id;
};

struct _Block2Data {
	int _ref_count_;
	GalaMediaFeedback* self;
	GDBusConnection* connection;
};

struct _GalaMediaFeedbackFeedback {
	gchar* icon;
	gint32 level;
};


static gpointer gala_media_feedback_parent_class = NULL;
static GalaMediaFeedback* gala_media_feedback_instance;
static GalaMediaFeedback* gala_media_feedback_instance = NULL;
static GThreadPool* gala_media_feedback_pool;
static GThreadPool* gala_media_feedback_pool = NULL;

GType gala_dbus_notifications_proxy_get_type (void) G_GNUC_CONST;
guint gala_dbus_notifications_register_object (void* object, GDBusConnection* connection, const gchar* path, GError** error);
GType gala_dbus_notifications_get_type (void) G_GNUC_CONST;
guint32 gala_dbus_notifications_notify (GalaDBusNotifications* self, const gchar* app_name, guint32 replaces_id, const gchar* app_icon, const gchar* summary, const gchar* body, gchar** actions, int actions_length1, GHashTable* hints, gint32 expire_timeout, GError** error);
static void gala_dbus_notifications_proxy_g_signal (GDBusProxy* proxy, const gchar* sender_name, const gchar* signal_name, GVariant* parameters);
static guint32 gala_dbus_notifications_proxy_notify (GalaDBusNotifications* self, const gchar* app_name, guint32 replaces_id, const gchar* app_icon, const gchar* summary, const gchar* body, gchar** actions, int actions_length1, GHashTable* hints, gint32 expire_timeout, GError** error);
static void gala_dbus_notifications_proxy_gala_dbus_notifications_interface_init (GalaDBusNotificationsIface* iface);
static void _dbus_gala_dbus_notifications_notify (GalaDBusNotifications* self, GVariant* _parameters_, GDBusMethodInvocation* invocation);
static void gala_dbus_notifications_dbus_interface_method_call (GDBusConnection* connection, const gchar* sender, const gchar* object_path, const gchar* interface_name, const gchar* method_name, GVariant* parameters, GDBusMethodInvocation* invocation, gpointer user_data);
static GVariant* gala_dbus_notifications_dbus_interface_get_property (GDBusConnection* connection, const gchar* sender, const gchar* object_path, const gchar* interface_name, const gchar* property_name, GError** error, gpointer user_data);
static gboolean gala_dbus_notifications_dbus_interface_set_property (GDBusConnection* connection, const gchar* sender, const gchar* object_path, const gchar* interface_name, const gchar* property_name, GVariant* value, GError** error, gpointer user_data);
static void _gala_dbus_notifications_unregister_object (gpointer user_data);
GType gala_media_feedback_get_type (void) G_GNUC_CONST;
#define GALA_MEDIA_FEEDBACK_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), GALA_TYPE_MEDIA_FEEDBACK, GalaMediaFeedbackPrivate))
enum  {
	GALA_MEDIA_FEEDBACK_DUMMY_PROPERTY
};
static void gala_media_feedback_feedback_free (GalaMediaFeedbackFeedback* self);
void gala_media_feedback_init (void);
static GalaMediaFeedback* gala_media_feedback_new (void);
static GalaMediaFeedback* gala_media_feedback_construct (GType object_type);
void gala_media_feedback_send (const gchar* icon, gint val);
static GalaMediaFeedbackFeedback* gala_media_feedback_feedback_new (const gchar* _icon, gint32 _level);
static GalaMediaFeedbackFeedback* gala_media_feedback_feedback_new (const gchar* _icon, gint32 _level);
static void gala_media_feedback_handle_name_owner_changed (GDBusConnection* connection, const gchar* sender_name, const gchar* object_path, const gchar* interface_name, const gchar* signal_name, GVariant* parameters, GalaMediaFeedback* self);
static Block2Data* block2_data_ref (Block2Data* _data2_);
static void block2_data_unref (void * _userdata_);
static void* ___lambda8_ (Block2Data* _data2_);
static gpointer ____lambda8__gthread_func (gpointer self);
static void gala_media_feedback_send_feedback (GalaMediaFeedbackFeedback* feedback, GalaMediaFeedback* self);
static void _g_free0_ (gpointer var);
static void _g_variant_unref0_ (gpointer var);
static GObject * gala_media_feedback_constructor (GType type, guint n_construct_properties, GObjectConstructParam * construct_properties);
static void gala_media_feedback_feedback_instance_init (GalaMediaFeedbackFeedback * self);
static void gala_media_feedback_finalize (GObject* obj);
static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func);

static const GDBusArgInfo _gala_dbus_notifications_dbus_arg_info_notify_app_name = {-1, "app_name", "s"};
static const GDBusArgInfo _gala_dbus_notifications_dbus_arg_info_notify_replaces_id = {-1, "replaces_id", "u"};
static const GDBusArgInfo _gala_dbus_notifications_dbus_arg_info_notify_app_icon = {-1, "app_icon", "s"};
static const GDBusArgInfo _gala_dbus_notifications_dbus_arg_info_notify_summary = {-1, "summary", "s"};
static const GDBusArgInfo _gala_dbus_notifications_dbus_arg_info_notify_body = {-1, "body", "s"};
static const GDBusArgInfo _gala_dbus_notifications_dbus_arg_info_notify_actions = {-1, "actions", "as"};
static const GDBusArgInfo _gala_dbus_notifications_dbus_arg_info_notify_hints = {-1, "hints", "a{sv}"};
static const GDBusArgInfo _gala_dbus_notifications_dbus_arg_info_notify_expire_timeout = {-1, "expire_timeout", "i"};
static const GDBusArgInfo _gala_dbus_notifications_dbus_arg_info_notify_result = {-1, "result", "u"};
static const GDBusArgInfo * const _gala_dbus_notifications_dbus_arg_info_notify_in[] = {&_gala_dbus_notifications_dbus_arg_info_notify_app_name, &_gala_dbus_notifications_dbus_arg_info_notify_replaces_id, &_gala_dbus_notifications_dbus_arg_info_notify_app_icon, &_gala_dbus_notifications_dbus_arg_info_notify_summary, &_gala_dbus_notifications_dbus_arg_info_notify_body, &_gala_dbus_notifications_dbus_arg_info_notify_actions, &_gala_dbus_notifications_dbus_arg_info_notify_hints, &_gala_dbus_notifications_dbus_arg_info_notify_expire_timeout, NULL};
static const GDBusArgInfo * const _gala_dbus_notifications_dbus_arg_info_notify_out[] = {&_gala_dbus_notifications_dbus_arg_info_notify_result, NULL};
static const GDBusMethodInfo _gala_dbus_notifications_dbus_method_info_notify = {-1, "Notify", (GDBusArgInfo **) (&_gala_dbus_notifications_dbus_arg_info_notify_in), (GDBusArgInfo **) (&_gala_dbus_notifications_dbus_arg_info_notify_out)};
static const GDBusMethodInfo * const _gala_dbus_notifications_dbus_method_info[] = {&_gala_dbus_notifications_dbus_method_info_notify, NULL};
static const GDBusSignalInfo * const _gala_dbus_notifications_dbus_signal_info[] = {NULL};
static const GDBusPropertyInfo * const _gala_dbus_notifications_dbus_property_info[] = {NULL};
static const GDBusInterfaceInfo _gala_dbus_notifications_dbus_interface_info = {-1, "org.freedesktop.Notifications", (GDBusMethodInfo **) (&_gala_dbus_notifications_dbus_method_info), (GDBusSignalInfo **) (&_gala_dbus_notifications_dbus_signal_info), (GDBusPropertyInfo **) (&_gala_dbus_notifications_dbus_property_info)};
static const GDBusInterfaceVTable _gala_dbus_notifications_dbus_interface_vtable = {gala_dbus_notifications_dbus_interface_method_call, gala_dbus_notifications_dbus_interface_get_property, gala_dbus_notifications_dbus_interface_set_property};

guint32 gala_dbus_notifications_notify (GalaDBusNotifications* self, const gchar* app_name, guint32 replaces_id, const gchar* app_icon, const gchar* summary, const gchar* body, gchar** actions, int actions_length1, GHashTable* hints, gint32 expire_timeout, GError** error) {
#line 23 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	g_return_val_if_fail (self != NULL, 0U);
#line 23 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	return GALA_DBUS_NOTIFICATIONS_GET_INTERFACE (self)->notify (self, app_name, replaces_id, app_icon, summary, body, actions, actions_length1, hints, expire_timeout, error);
#line 166 "MediaFeedback.c"
}


static void gala_dbus_notifications_base_init (GalaDBusNotificationsIface * iface) {
#line 21 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	static gboolean initialized = FALSE;
#line 21 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	if (!initialized) {
#line 21 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		initialized = TRUE;
#line 177 "MediaFeedback.c"
	}
}


GType gala_dbus_notifications_get_type (void) {
	static volatile gsize gala_dbus_notifications_type_id__volatile = 0;
	if (g_once_init_enter (&gala_dbus_notifications_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (GalaDBusNotificationsIface), (GBaseInitFunc) gala_dbus_notifications_base_init, (GBaseFinalizeFunc) NULL, (GClassInitFunc) NULL, (GClassFinalizeFunc) NULL, NULL, 0, 0, (GInstanceInitFunc) NULL, NULL };
		GType gala_dbus_notifications_type_id;
		gala_dbus_notifications_type_id = g_type_register_static (G_TYPE_INTERFACE, "GalaDBusNotifications", &g_define_type_info, 0);
		g_type_interface_add_prerequisite (gala_dbus_notifications_type_id, G_TYPE_OBJECT);
		g_type_set_qdata (gala_dbus_notifications_type_id, g_quark_from_static_string ("vala-dbus-proxy-type"), (void*) gala_dbus_notifications_proxy_get_type);
		g_type_set_qdata (gala_dbus_notifications_type_id, g_quark_from_static_string ("vala-dbus-interface-name"), "org.freedesktop.Notifications");
		g_type_set_qdata (gala_dbus_notifications_type_id, g_quark_from_static_string ("vala-dbus-interface-info"), (void*) (&_gala_dbus_notifications_dbus_interface_info));
		g_type_set_qdata (gala_dbus_notifications_type_id, g_quark_from_static_string ("vala-dbus-register-object"), (void*) gala_dbus_notifications_register_object);
		g_once_init_leave (&gala_dbus_notifications_type_id__volatile, gala_dbus_notifications_type_id);
	}
	return gala_dbus_notifications_type_id__volatile;
}


G_DEFINE_TYPE_EXTENDED (GalaDBusNotificationsProxy, gala_dbus_notifications_proxy, G_TYPE_DBUS_PROXY, 0, G_IMPLEMENT_INTERFACE (GALA_TYPE_DBUS_NOTIFICATIONS, gala_dbus_notifications_proxy_gala_dbus_notifications_interface_init) )
static void gala_dbus_notifications_proxy_class_init (GalaDBusNotificationsProxyClass* klass) {
	G_DBUS_PROXY_CLASS (klass)->g_signal = gala_dbus_notifications_proxy_g_signal;
}


static void gala_dbus_notifications_proxy_g_signal (GDBusProxy* proxy, const gchar* sender_name, const gchar* signal_name, GVariant* parameters) {
}


static void gala_dbus_notifications_proxy_init (GalaDBusNotificationsProxy* self) {
}


static guint32 gala_dbus_notifications_proxy_notify (GalaDBusNotifications* self, const gchar* app_name, guint32 replaces_id, const gchar* app_icon, const gchar* summary, const gchar* body, gchar** actions, int actions_length1, GHashTable* hints, gint32 expire_timeout, GError** error) {
	GDBusMessage *_message;
	GVariant *_arguments;
	GVariantBuilder _arguments_builder;
	gchar** _tmp26_;
	GVariantBuilder _tmp27_;
	int _tmp28_;
	GVariantBuilder _tmp29_;
	GHashTableIter _tmp30_;
	gpointer _tmp31_;
	gpointer _tmp32_;
	GDBusMessage *_reply_message;
	GVariant *_reply;
	GVariantIter _reply_iter;
	guint32 _result;
	GVariant* _tmp33_;
	G_IO_ERROR;
	_message = g_dbus_message_new_method_call (g_dbus_proxy_get_name ((GDBusProxy *) self), g_dbus_proxy_get_object_path ((GDBusProxy *) self), "org.freedesktop.Notifications", "Notify");
	g_variant_builder_init (&_arguments_builder, G_VARIANT_TYPE_TUPLE);
	g_variant_builder_add_value (&_arguments_builder, g_variant_new_string (app_name));
	g_variant_builder_add_value (&_arguments_builder, g_variant_new_uint32 (replaces_id));
	g_variant_builder_add_value (&_arguments_builder, g_variant_new_string (app_icon));
	g_variant_builder_add_value (&_arguments_builder, g_variant_new_string (summary));
	g_variant_builder_add_value (&_arguments_builder, g_variant_new_string (body));
	_tmp26_ = actions;
	g_variant_builder_init (&_tmp27_, G_VARIANT_TYPE ("as"));
	for (_tmp28_ = 0; _tmp28_ < actions_length1; _tmp28_++) {
		g_variant_builder_add_value (&_tmp27_, g_variant_new_string (*_tmp26_));
		_tmp26_++;
	}
	g_variant_builder_add_value (&_arguments_builder, g_variant_builder_end (&_tmp27_));
	g_hash_table_iter_init (&_tmp30_, hints);
	g_variant_builder_init (&_tmp29_, G_VARIANT_TYPE ("a{sv}"));
	while (g_hash_table_iter_next (&_tmp30_, &_tmp31_, &_tmp32_)) {
		gchar* _key;
		GVariant* _value;
		_key = (gchar*) _tmp31_;
		_value = (GVariant*) _tmp32_;
		g_variant_builder_add (&_tmp29_, "{?*}", g_variant_new_string (_key), g_variant_new_variant (_value));
	}
	g_variant_builder_add_value (&_arguments_builder, g_variant_builder_end (&_tmp29_));
	g_variant_builder_add_value (&_arguments_builder, g_variant_new_int32 (expire_timeout));
	_arguments = g_variant_builder_end (&_arguments_builder);
	g_dbus_message_set_body (_message, _arguments);
	_reply_message = g_dbus_connection_send_message_with_reply_sync (g_dbus_proxy_get_connection ((GDBusProxy *) self), _message, G_DBUS_SEND_MESSAGE_FLAGS_NONE, g_dbus_proxy_get_default_timeout ((GDBusProxy *) self), NULL, NULL, error);
	g_object_unref (_message);
	if (!_reply_message) {
		return 0U;
	}
	if (g_dbus_message_to_gerror (_reply_message, error)) {
		g_object_unref (_reply_message);
		return 0U;
	}
	_reply = g_dbus_message_get_body (_reply_message);
	g_variant_iter_init (&_reply_iter, _reply);
	_tmp33_ = g_variant_iter_next_value (&_reply_iter);
	_result = g_variant_get_uint32 (_tmp33_);
	g_variant_unref (_tmp33_);
	g_object_unref (_reply_message);
	return _result;
}


static void gala_dbus_notifications_proxy_gala_dbus_notifications_interface_init (GalaDBusNotificationsIface* iface) {
	iface->notify = gala_dbus_notifications_proxy_notify;
}


static void _dbus_gala_dbus_notifications_notify (GalaDBusNotifications* self, GVariant* _parameters_, GDBusMethodInvocation* invocation) {
	GError* error = NULL;
	GVariantIter _arguments_iter;
	gchar* app_name = NULL;
	GVariant* _tmp34_;
	guint32 replaces_id = 0U;
	GVariant* _tmp35_;
	gchar* app_icon = NULL;
	GVariant* _tmp36_;
	gchar* summary = NULL;
	GVariant* _tmp37_;
	gchar* body = NULL;
	GVariant* _tmp38_;
	gchar** actions = NULL;
	int actions_length1 = 0;
	GVariant* _tmp39_;
	gchar** _tmp40_;
	int _tmp40__length;
	int _tmp40__size;
	int _tmp40__length1;
	GVariantIter _tmp41_;
	GVariant* _tmp42_;
	GHashTable* hints = NULL;
	GVariant* _tmp43_;
	GHashTable* _tmp44_;
	GVariantIter _tmp45_;
	GVariant* _tmp46_;
	GVariant* _tmp47_;
	gint32 expire_timeout = 0;
	GVariant* _tmp48_;
	GDBusMessage* _reply_message;
	GVariant* _reply;
	GVariantBuilder _reply_builder;
	guint32 result;
	g_variant_iter_init (&_arguments_iter, _parameters_);
	_tmp34_ = g_variant_iter_next_value (&_arguments_iter);
	app_name = g_variant_dup_string (_tmp34_, NULL);
	g_variant_unref (_tmp34_);
	_tmp35_ = g_variant_iter_next_value (&_arguments_iter);
	replaces_id = g_variant_get_uint32 (_tmp35_);
	g_variant_unref (_tmp35_);
	_tmp36_ = g_variant_iter_next_value (&_arguments_iter);
	app_icon = g_variant_dup_string (_tmp36_, NULL);
	g_variant_unref (_tmp36_);
	_tmp37_ = g_variant_iter_next_value (&_arguments_iter);
	summary = g_variant_dup_string (_tmp37_, NULL);
	g_variant_unref (_tmp37_);
	_tmp38_ = g_variant_iter_next_value (&_arguments_iter);
	body = g_variant_dup_string (_tmp38_, NULL);
	g_variant_unref (_tmp38_);
	_tmp39_ = g_variant_iter_next_value (&_arguments_iter);
	_tmp40_ = g_new (gchar*, 5);
	_tmp40__length = 0;
	_tmp40__size = 4;
	_tmp40__length1 = 0;
	g_variant_iter_init (&_tmp41_, _tmp39_);
	for (; (_tmp42_ = g_variant_iter_next_value (&_tmp41_)) != NULL; _tmp40__length1++) {
		if (_tmp40__size == _tmp40__length) {
			_tmp40__size = 2 * _tmp40__size;
			_tmp40_ = g_renew (gchar*, _tmp40_, _tmp40__size + 1);
		}
		_tmp40_[_tmp40__length++] = g_variant_dup_string (_tmp42_, NULL);
		g_variant_unref (_tmp42_);
	}
	actions_length1 = _tmp40__length1;
	_tmp40_[_tmp40__length] = NULL;
	actions = _tmp40_;
	g_variant_unref (_tmp39_);
	_tmp43_ = g_variant_iter_next_value (&_arguments_iter);
	_tmp44_ = g_hash_table_new_full (g_str_hash, g_str_equal, g_free, (GDestroyNotify) g_variant_unref);
	g_variant_iter_init (&_tmp45_, _tmp43_);
	while (g_variant_iter_loop (&_tmp45_, "{?*}", &_tmp46_, &_tmp47_)) {
		g_hash_table_insert (_tmp44_, g_variant_dup_string (_tmp46_, NULL), g_variant_get_variant (_tmp47_));
	}
	hints = _tmp44_;
	g_variant_unref (_tmp43_);
	_tmp48_ = g_variant_iter_next_value (&_arguments_iter);
	expire_timeout = g_variant_get_int32 (_tmp48_);
	g_variant_unref (_tmp48_);
	result = gala_dbus_notifications_notify (self, app_name, replaces_id, app_icon, summary, body, actions, actions_length1, hints, expire_timeout, &error);
	if (error) {
		g_dbus_method_invocation_return_gerror (invocation, error);
		return;
	}
	_reply_message = g_dbus_message_new_method_reply (g_dbus_method_invocation_get_message (invocation));
	g_variant_builder_init (&_reply_builder, G_VARIANT_TYPE_TUPLE);
	g_variant_builder_add_value (&_reply_builder, g_variant_new_uint32 (result));
	_reply = g_variant_builder_end (&_reply_builder);
	g_dbus_message_set_body (_reply_message, _reply);
	_g_free0 (app_name);
	_g_free0 (app_icon);
	_g_free0 (summary);
	_g_free0 (body);
	actions = (_vala_array_free (actions, actions_length1, (GDestroyNotify) g_free), NULL);
	_g_hash_table_unref0 (hints);
	g_dbus_connection_send_message (g_dbus_method_invocation_get_connection (invocation), _reply_message, G_DBUS_SEND_MESSAGE_FLAGS_NONE, NULL, NULL);
	g_object_unref (invocation);
	g_object_unref (_reply_message);
}


static void gala_dbus_notifications_dbus_interface_method_call (GDBusConnection* connection, const gchar* sender, const gchar* object_path, const gchar* interface_name, const gchar* method_name, GVariant* parameters, GDBusMethodInvocation* invocation, gpointer user_data) {
	gpointer* data;
	gpointer object;
	data = user_data;
	object = data[0];
	if (strcmp (method_name, "Notify") == 0) {
		_dbus_gala_dbus_notifications_notify (object, parameters, invocation);
	} else {
		g_object_unref (invocation);
	}
}


static GVariant* gala_dbus_notifications_dbus_interface_get_property (GDBusConnection* connection, const gchar* sender, const gchar* object_path, const gchar* interface_name, const gchar* property_name, GError** error, gpointer user_data) {
	gpointer* data;
	gpointer object;
	data = user_data;
	object = data[0];
	return NULL;
}


static gboolean gala_dbus_notifications_dbus_interface_set_property (GDBusConnection* connection, const gchar* sender, const gchar* object_path, const gchar* interface_name, const gchar* property_name, GVariant* value, GError** error, gpointer user_data) {
	gpointer* data;
	gpointer object;
	data = user_data;
	object = data[0];
	return FALSE;
}


guint gala_dbus_notifications_register_object (gpointer object, GDBusConnection* connection, const gchar* path, GError** error) {
	guint result;
	gpointer *data;
	data = g_new (gpointer, 3);
	data[0] = g_object_ref (object);
	data[1] = g_object_ref (connection);
	data[2] = g_strdup (path);
	result = g_dbus_connection_register_object (connection, path, (GDBusInterfaceInfo *) (&_gala_dbus_notifications_dbus_interface_info), &_gala_dbus_notifications_dbus_interface_vtable, data, _gala_dbus_notifications_unregister_object, error);
	if (!result) {
		return 0;
	}
	return result;
}


static void _gala_dbus_notifications_unregister_object (gpointer user_data) {
	gpointer* data;
	data = user_data;
	g_object_unref (data[0]);
	g_object_unref (data[1]);
	g_free (data[2]);
	g_free (data);
}


void gala_media_feedback_init (void) {
	GalaMediaFeedback* _tmp0_ = NULL;
#line 47 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	_tmp0_ = gala_media_feedback_instance;
#line 47 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	if (_tmp0_ == NULL) {
#line 444 "MediaFeedback.c"
		GalaMediaFeedback* _tmp1_ = NULL;
#line 48 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_tmp1_ = gala_media_feedback_new ();
#line 48 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_g_object_unref0 (gala_media_feedback_instance);
#line 48 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		gala_media_feedback_instance = _tmp1_;
#line 452 "MediaFeedback.c"
	}
}


void gala_media_feedback_send (const gchar* icon, gint val) {
	GalaMediaFeedback* _tmp0_ = NULL;
	GThreadPool* _tmp1_ = NULL;
	GError * _inner_error_ = NULL;
#line 51 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	g_return_if_fail (icon != NULL);
#line 51 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	_tmp0_ = gala_media_feedback_instance;
#line 51 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	_tmp1_ = gala_media_feedback_pool;
#line 51 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	_vala_return_if_fail ((_tmp0_ != NULL) && (_tmp1_ != NULL), "instance != null && pool != null");
#line 469 "MediaFeedback.c"
	{
		GThreadPool* _tmp2_ = NULL;
		const gchar* _tmp3_ = NULL;
		gint _tmp4_ = 0;
		GalaMediaFeedbackFeedback* _tmp5_ = NULL;
#line 55 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_tmp2_ = gala_media_feedback_pool;
#line 55 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_tmp3_ = icon;
#line 55 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_tmp4_ = val;
#line 55 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_tmp5_ = gala_media_feedback_feedback_new (_tmp3_, (gint32) _tmp4_);
#line 55 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		g_thread_pool_push (_tmp2_, _tmp5_, &_inner_error_);
#line 55 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 55 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
			if (_inner_error_->domain == G_THREAD_ERROR) {
#line 489 "MediaFeedback.c"
				goto __catch3_g_thread_error;
			}
#line 55 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 55 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
			g_clear_error (&_inner_error_);
#line 55 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
			return;
#line 498 "MediaFeedback.c"
		}
	}
	goto __finally3;
	__catch3_g_thread_error:
	{
		GError* e = NULL;
#line 54 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		e = _inner_error_;
#line 54 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_inner_error_ = NULL;
#line 54 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_g_error_free0 (e);
#line 511 "MediaFeedback.c"
	}
	__finally3:
#line 54 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 54 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 54 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		g_clear_error (&_inner_error_);
#line 54 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		return;
#line 522 "MediaFeedback.c"
	}
}


static GalaMediaFeedback* gala_media_feedback_construct (GType object_type) {
	GalaMediaFeedback * self = NULL;
#line 67 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	self = (GalaMediaFeedback*) g_object_new (object_type, NULL);
#line 65 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	return self;
#line 533 "MediaFeedback.c"
}


static GalaMediaFeedback* gala_media_feedback_new (void) {
#line 65 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	return gala_media_feedback_construct (GALA_TYPE_MEDIA_FEEDBACK);
#line 540 "MediaFeedback.c"
}


static gpointer _g_object_ref0 (gpointer self) {
#line 88 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	return self ? g_object_ref (self) : NULL;
#line 547 "MediaFeedback.c"
}


static Block2Data* block2_data_ref (Block2Data* _data2_) {
#line 88 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	g_atomic_int_inc (&_data2_->_ref_count_);
#line 88 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	return _data2_;
#line 556 "MediaFeedback.c"
}


static void block2_data_unref (void * _userdata_) {
	Block2Data* _data2_;
	_data2_ = (Block2Data*) _userdata_;
#line 88 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	if (g_atomic_int_dec_and_test (&_data2_->_ref_count_)) {
#line 565 "MediaFeedback.c"
		GalaMediaFeedback* self;
#line 88 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		self = _data2_->self;
#line 88 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_g_object_unref0 (_data2_->connection);
#line 88 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_g_object_unref0 (self);
#line 88 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		g_slice_free (Block2Data, _data2_);
#line 575 "MediaFeedback.c"
	}
}


static void* ___lambda8_ (Block2Data* _data2_) {
	GalaMediaFeedback* self;
	void* result = NULL;
	GError * _inner_error_ = NULL;
#line 98 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	self = _data2_->self;
#line 586 "MediaFeedback.c"
	{
		GalaDBusNotifications* _tmp0_ = NULL;
#line 99 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_tmp0_ = self->priv->notifications;
#line 99 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		g_rec_mutex_lock (&self->priv->__lock_notifications);
#line 593 "MediaFeedback.c"
		{
			{
				GalaDBusNotifications* _tmp1_ = NULL;
				GDBusConnection* _tmp2_ = NULL;
				GalaDBusNotifications* _tmp3_ = NULL;
				GalaDBusNotifications* _tmp4_ = NULL;
#line 101 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
				_tmp2_ = _data2_->connection;
#line 101 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
				_tmp3_ = g_initable_new (GALA_TYPE_DBUS_NOTIFICATIONS_PROXY, NULL, &_inner_error_, "g-flags", G_DBUS_PROXY_FLAGS_NONE, "g-name", "org.freedesktop.Notifications", "g-connection", _tmp2_, "g-object-path", "/org/freedesktop/Notifications", "g-interface-name", "org.freedesktop.Notifications", "g-interface-info", g_type_get_qdata (GALA_TYPE_DBUS_NOTIFICATIONS, g_quark_from_static_string ("vala-dbus-interface-info")), NULL);
#line 101 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
				_tmp1_ = (GalaDBusNotifications*) _tmp3_;
#line 101 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
				if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 608 "MediaFeedback.c"
					goto __catch5_g_error;
				}
#line 101 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
				_tmp4_ = _tmp1_;
#line 101 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
				_tmp1_ = NULL;
#line 101 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
				_g_object_unref0 (self->priv->notifications);
#line 101 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
				self->priv->notifications = _tmp4_;
#line 100 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
				_g_object_unref0 (_tmp1_);
#line 621 "MediaFeedback.c"
			}
			goto __finally5;
			__catch5_g_error:
			{
				GError* e = NULL;
#line 100 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
				e = _inner_error_;
#line 100 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
				_inner_error_ = NULL;
#line 104 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
				_g_object_unref0 (self->priv->notifications);
#line 104 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
				self->priv->notifications = NULL;
#line 100 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
				_g_error_free0 (e);
#line 637 "MediaFeedback.c"
			}
			__finally5:
#line 100 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
			if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 642 "MediaFeedback.c"
				{
					GalaDBusNotifications* _tmp5_ = NULL;
#line 99 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
					_tmp5_ = self->priv->notifications;
#line 99 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
					g_rec_mutex_unlock (&self->priv->__lock_notifications);
#line 649 "MediaFeedback.c"
				}
#line 100 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
				g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 100 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
				g_clear_error (&_inner_error_);
#line 100 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
				return NULL;
#line 657 "MediaFeedback.c"
			}
		}
		__finally4:
		{
			GalaDBusNotifications* _tmp6_ = NULL;
#line 99 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
			_tmp6_ = self->priv->notifications;
#line 99 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
			g_rec_mutex_unlock (&self->priv->__lock_notifications);
#line 667 "MediaFeedback.c"
		}
#line 99 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 99 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 99 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
			g_clear_error (&_inner_error_);
#line 99 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
			return NULL;
#line 677 "MediaFeedback.c"
		}
	}
#line 107 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	result = NULL;
#line 107 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	return result;
#line 684 "MediaFeedback.c"
}


static gpointer ____lambda8__gthread_func (gpointer self) {
	gpointer result;
	result = ___lambda8_ (self);
#line 98 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	block2_data_unref (self);
#line 98 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	return result;
#line 695 "MediaFeedback.c"
}


static void gala_media_feedback_handle_name_owner_changed (GDBusConnection* connection, const gchar* sender_name, const gchar* object_path, const gchar* interface_name, const gchar* signal_name, GVariant* parameters, GalaMediaFeedback* self) {
	Block2Data* _data2_;
	GDBusConnection* _tmp0_ = NULL;
	GDBusConnection* _tmp1_ = NULL;
	gchar* name = NULL;
	gchar* before = NULL;
	gchar* after = NULL;
	GVariant* _tmp2_ = NULL;
	const gchar* _tmp3_ = NULL;
	gboolean _tmp4_ = FALSE;
	const gchar* _tmp5_ = NULL;
	GError * _inner_error_ = NULL;
#line 88 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	g_return_if_fail (self != NULL);
#line 88 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	g_return_if_fail (connection != NULL);
#line 88 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	g_return_if_fail (sender_name != NULL);
#line 88 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	g_return_if_fail (object_path != NULL);
#line 88 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	g_return_if_fail (interface_name != NULL);
#line 88 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	g_return_if_fail (signal_name != NULL);
#line 88 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	g_return_if_fail (parameters != NULL);
#line 88 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	_data2_ = g_slice_new0 (Block2Data);
#line 88 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	_data2_->_ref_count_ = 1;
#line 88 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	_data2_->self = g_object_ref (self);
#line 88 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	_tmp0_ = connection;
#line 88 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	_tmp1_ = _g_object_ref0 (_tmp0_);
#line 88 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	_g_object_unref0 (_data2_->connection);
#line 88 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	_data2_->connection = _tmp1_;
#line 92 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	_tmp2_ = parameters;
#line 92 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	g_variant_get (_tmp2_, "(sss)", &name, &before, &after, NULL);
#line 94 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	_tmp3_ = name;
#line 94 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	if (g_strcmp0 (_tmp3_, "org.freedesktop.Notifications") != 0) {
#line 95 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_g_free0 (after);
#line 95 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_g_free0 (before);
#line 95 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_g_free0 (name);
#line 95 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		block2_data_unref (_data2_);
#line 95 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_data2_ = NULL;
#line 95 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		return;
#line 759 "MediaFeedback.c"
	}
#line 97 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	_tmp5_ = after;
#line 97 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	if (g_strcmp0 (_tmp5_, "") != 0) {
#line 765 "MediaFeedback.c"
		const gchar* _tmp6_ = NULL;
#line 97 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_tmp6_ = before;
#line 97 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_tmp4_ = g_strcmp0 (_tmp6_, "") == 0;
#line 771 "MediaFeedback.c"
	} else {
#line 97 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_tmp4_ = FALSE;
#line 775 "MediaFeedback.c"
	}
#line 97 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	if (_tmp4_) {
#line 779 "MediaFeedback.c"
		GThread* _tmp7_ = NULL;
		GThread* _tmp8_ = NULL;
#line 98 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_tmp7_ = g_thread_new (NULL, ____lambda8__gthread_func, block2_data_ref (_data2_));
#line 98 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_tmp8_ = _tmp7_;
#line 98 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_g_thread_unref0 (_tmp8_);
#line 788 "MediaFeedback.c"
	} else {
		gboolean _tmp9_ = FALSE;
		const gchar* _tmp10_ = NULL;
#line 109 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_tmp10_ = before;
#line 109 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		if (g_strcmp0 (_tmp10_, "") != 0) {
#line 796 "MediaFeedback.c"
			const gchar* _tmp11_ = NULL;
#line 109 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
			_tmp11_ = after;
#line 109 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
			_tmp9_ = g_strcmp0 (_tmp11_, "") == 0;
#line 802 "MediaFeedback.c"
		} else {
#line 109 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
			_tmp9_ = FALSE;
#line 806 "MediaFeedback.c"
		}
#line 109 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		if (_tmp9_) {
#line 810 "MediaFeedback.c"
			{
				GalaDBusNotifications* _tmp12_ = NULL;
#line 110 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
				_tmp12_ = self->priv->notifications;
#line 110 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
				g_rec_mutex_lock (&self->priv->__lock_notifications);
#line 817 "MediaFeedback.c"
				{
#line 111 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
					_g_object_unref0 (self->priv->notifications);
#line 111 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
					self->priv->notifications = NULL;
#line 823 "MediaFeedback.c"
				}
				__finally6:
				{
					GalaDBusNotifications* _tmp13_ = NULL;
#line 110 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
					_tmp13_ = self->priv->notifications;
#line 110 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
					g_rec_mutex_unlock (&self->priv->__lock_notifications);
#line 832 "MediaFeedback.c"
				}
#line 110 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
				if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 110 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
					_g_free0 (after);
#line 110 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
					_g_free0 (before);
#line 110 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
					_g_free0 (name);
#line 110 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
					block2_data_unref (_data2_);
#line 110 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
					_data2_ = NULL;
#line 110 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
					g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 110 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
					g_clear_error (&_inner_error_);
#line 110 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
					return;
#line 852 "MediaFeedback.c"
				}
			}
		}
	}
#line 88 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	_g_free0 (after);
#line 88 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	_g_free0 (before);
#line 88 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	_g_free0 (name);
#line 88 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	block2_data_unref (_data2_);
#line 88 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	_data2_ = NULL;
#line 867 "MediaFeedback.c"
}


static void _g_free0_ (gpointer var) {
#line 118 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	var = (g_free (var), NULL);
#line 874 "MediaFeedback.c"
}


static void _g_variant_unref0_ (gpointer var) {
#line 118 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	(var == NULL) ? NULL : (var = (g_variant_unref (var), NULL));
#line 881 "MediaFeedback.c"
}


static void gala_media_feedback_send_feedback (GalaMediaFeedbackFeedback* feedback, GalaMediaFeedback* self) {
	GHashTable* hints = NULL;
	GHashTable* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
	GVariant* _tmp2_ = NULL;
	gchar* _tmp3_ = NULL;
	GalaMediaFeedbackFeedback* _tmp4_ = NULL;
	gint32 _tmp5_ = 0;
	GVariant* _tmp6_ = NULL;
	GError * _inner_error_ = NULL;
#line 116 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	g_return_if_fail (self != NULL);
#line 116 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	g_return_if_fail (feedback != NULL);
#line 118 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	_tmp0_ = g_hash_table_new_full (NULL, NULL, _g_free0_, _g_variant_unref0_);
#line 118 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	hints = _tmp0_;
#line 119 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	_tmp1_ = g_strdup ("x-canonical-private-synchronous");
#line 119 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	_tmp2_ = g_variant_new_string ("gala-feedback");
#line 119 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	g_variant_ref_sink (_tmp2_);
#line 119 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	g_hash_table_insert (hints, _tmp1_, _tmp2_);
#line 120 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	_tmp3_ = g_strdup ("value");
#line 120 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	_tmp4_ = feedback;
#line 120 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	_tmp5_ = _tmp4_->level;
#line 120 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	_tmp6_ = g_variant_new_int32 (_tmp5_);
#line 120 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	g_variant_ref_sink (_tmp6_);
#line 120 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	g_hash_table_insert (hints, _tmp3_, _tmp6_);
#line 923 "MediaFeedback.c"
	{
		guint32 _tmp7_ = 0U;
		GalaDBusNotifications* _tmp8_ = NULL;
		guint32 _tmp9_ = 0U;
		GalaMediaFeedbackFeedback* _tmp10_ = NULL;
		const gchar* _tmp11_ = NULL;
		gchar** _tmp12_ = NULL;
		gchar** _tmp13_ = NULL;
		gint _tmp13__length1 = 0;
		guint32 _tmp14_ = 0U;
		guint32 _tmp15_ = 0U;
#line 123 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_tmp8_ = self->priv->notifications;
#line 123 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_tmp9_ = self->priv->notification_id;
#line 123 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_tmp10_ = feedback;
#line 123 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_tmp11_ = _tmp10_->icon;
#line 123 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_tmp12_ = g_new0 (gchar*, 0 + 1);
#line 123 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_tmp13_ = _tmp12_;
#line 123 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_tmp13__length1 = 0;
#line 123 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_tmp14_ = gala_dbus_notifications_notify (_tmp8_, "gala-feedback", _tmp9_, _tmp11_, "", "", _tmp13_, 0, hints, (gint32) 2000, &_inner_error_);
#line 123 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_tmp15_ = _tmp14_;
#line 123 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_tmp13_ = (_vala_array_free (_tmp13_, _tmp13__length1, (GDestroyNotify) g_free), NULL);
#line 123 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_tmp7_ = _tmp15_;
#line 123 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 123 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
			if (_inner_error_->domain == G_IO_ERROR) {
#line 961 "MediaFeedback.c"
				goto __catch7_g_io_error;
			}
#line 123 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
			_g_hash_table_unref0 (hints);
#line 123 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
			_gala_media_feedback_feedback_free0 (feedback);
#line 123 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 123 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
			g_clear_error (&_inner_error_);
#line 123 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
			return;
#line 974 "MediaFeedback.c"
		}
#line 123 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		self->priv->notification_id = _tmp7_;
#line 978 "MediaFeedback.c"
	}
	goto __finally7;
	__catch7_g_io_error:
	{
		GError* e = NULL;
		GError* _tmp16_ = NULL;
		const gchar* _tmp17_ = NULL;
#line 122 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		e = _inner_error_;
#line 122 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_inner_error_ = NULL;
#line 125 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_tmp16_ = e;
#line 125 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_tmp17_ = _tmp16_->message;
#line 125 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		g_critical ("MediaFeedback.vala:125: %s", _tmp17_);
#line 122 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_g_error_free0 (e);
#line 998 "MediaFeedback.c"
	}
	__finally7:
#line 122 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 122 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_g_hash_table_unref0 (hints);
#line 122 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_gala_media_feedback_feedback_free0 (feedback);
#line 122 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 122 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		g_clear_error (&_inner_error_);
#line 122 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		return;
#line 1013 "MediaFeedback.c"
	}
#line 116 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	_g_hash_table_unref0 (hints);
#line 116 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	_gala_media_feedback_feedback_free0 (feedback);
#line 1019 "MediaFeedback.c"
}


static GObject * gala_media_feedback_constructor (GType type, guint n_construct_properties, GObjectConstructParam * construct_properties) {
	GObject * obj;
	GObjectClass * parent_class;
	GalaMediaFeedback * self;
	GError * _inner_error_ = NULL;
#line 70 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	parent_class = G_OBJECT_CLASS (gala_media_feedback_parent_class);
#line 70 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	obj = parent_class->constructor (type, n_construct_properties, construct_properties);
#line 70 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, GALA_TYPE_MEDIA_FEEDBACK, GalaMediaFeedback);
#line 1034 "MediaFeedback.c"
	{
		GThreadPool* _tmp0_ = NULL;
		GThreadPool* _tmp1_ = NULL;
		GThreadPool* _tmp2_ = NULL;
#line 73 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_tmp1_ = g_thread_pool_new ((GFunc) gala_media_feedback_send_feedback, self, 1, FALSE, &_inner_error_);
#line 73 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_tmp0_ = _tmp1_;
#line 73 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 73 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
			if (_inner_error_->domain == G_THREAD_ERROR) {
#line 1047 "MediaFeedback.c"
				goto __catch8_g_thread_error;
			}
#line 73 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 73 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
			g_clear_error (&_inner_error_);
#line 1054 "MediaFeedback.c"
		}
#line 73 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_tmp2_ = _tmp0_;
#line 73 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_tmp0_ = NULL;
#line 73 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_g_thread_pool_free0 (gala_media_feedback_pool);
#line 73 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		gala_media_feedback_pool = _tmp2_;
#line 72 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_g_thread_pool_free0 (_tmp0_);
#line 1066 "MediaFeedback.c"
	}
	goto __finally8;
	__catch8_g_thread_error:
	{
		GError* e = NULL;
		GError* _tmp3_ = NULL;
		const gchar* _tmp4_ = NULL;
#line 72 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		e = _inner_error_;
#line 72 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_inner_error_ = NULL;
#line 75 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_tmp3_ = e;
#line 75 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_tmp4_ = _tmp3_->message;
#line 75 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		g_critical ("MediaFeedback.vala:75: %s", _tmp4_);
#line 76 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_g_thread_pool_free0 (gala_media_feedback_pool);
#line 76 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		gala_media_feedback_pool = NULL;
#line 72 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_g_error_free0 (e);
#line 1090 "MediaFeedback.c"
	}
	__finally8:
#line 72 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 72 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 72 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		g_clear_error (&_inner_error_);
#line 1099 "MediaFeedback.c"
	}
	{
		GDBusConnection* _tmp5_ = NULL;
		GDBusConnection* _tmp6_ = NULL;
		GDBusConnection* _tmp7_ = NULL;
		GDBusConnection* _tmp8_ = NULL;
		guint _tmp9_ = 0U;
#line 80 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_tmp6_ = g_bus_get_sync (G_BUS_TYPE_SESSION, NULL, &_inner_error_);
#line 80 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_tmp5_ = _tmp6_;
#line 80 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 80 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
			if (_inner_error_->domain == G_IO_ERROR) {
#line 1115 "MediaFeedback.c"
				goto __catch9_g_io_error;
			}
#line 80 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 80 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
			g_clear_error (&_inner_error_);
#line 1122 "MediaFeedback.c"
		}
#line 80 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_tmp7_ = _tmp5_;
#line 80 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_tmp5_ = NULL;
#line 80 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_g_object_unref0 (self->priv->connection);
#line 80 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		self->priv->connection = _tmp7_;
#line 81 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_tmp8_ = self->priv->connection;
#line 81 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_tmp9_ = g_dbus_connection_signal_subscribe (_tmp8_, "org.freedesktop.DBus", "org.freedesktop.DBus", "NameOwnerChanged", "/org/freedesktop/DBus", NULL, G_DBUS_SIGNAL_FLAGS_NONE, (GDBusSignalCallback) gala_media_feedback_handle_name_owner_changed, g_object_ref (self), NULL);
#line 81 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		self->priv->dbus_name_owner_changed_signal_id = _tmp9_;
#line 79 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_g_object_unref0 (_tmp5_);
#line 1140 "MediaFeedback.c"
	}
	goto __finally9;
	__catch9_g_io_error:
	{
		GError* e = NULL;
#line 79 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		e = _inner_error_;
#line 79 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_inner_error_ = NULL;
#line 79 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		_g_error_free0 (e);
#line 1152 "MediaFeedback.c"
	}
	__finally9:
#line 79 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 79 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 79 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
		g_clear_error (&_inner_error_);
#line 1161 "MediaFeedback.c"
	}
#line 70 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	return obj;
#line 1165 "MediaFeedback.c"
}


static GalaMediaFeedbackFeedback* gala_media_feedback_feedback_new (const gchar* _icon, gint32 _level) {
	GalaMediaFeedbackFeedback* self;
	const gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
	gint32 _tmp2_ = 0;
#line 35 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	g_return_val_if_fail (_icon != NULL, NULL);
#line 35 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	self = g_slice_new0 (GalaMediaFeedbackFeedback);
#line 35 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	gala_media_feedback_feedback_instance_init (self);
#line 37 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	_tmp0_ = _icon;
#line 37 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	_tmp1_ = g_strdup (_tmp0_);
#line 37 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	_g_free0 (self->icon);
#line 37 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	self->icon = _tmp1_;
#line 38 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	_tmp2_ = _level;
#line 38 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	self->level = _tmp2_;
#line 35 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	return self;
#line 1194 "MediaFeedback.c"
}


static void gala_media_feedback_feedback_instance_init (GalaMediaFeedbackFeedback * self) {
}


static void gala_media_feedback_feedback_free (GalaMediaFeedbackFeedback* self) {
#line 32 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	_g_free0 (self->icon);
#line 30 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	g_slice_free (GalaMediaFeedbackFeedback, self);
#line 1207 "MediaFeedback.c"
}


static void gala_media_feedback_class_init (GalaMediaFeedbackClass * klass) {
#line 27 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	gala_media_feedback_parent_class = g_type_class_peek_parent (klass);
#line 27 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	g_type_class_add_private (klass, sizeof (GalaMediaFeedbackPrivate));
#line 27 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	G_OBJECT_CLASS (klass)->constructor = gala_media_feedback_constructor;
#line 27 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	G_OBJECT_CLASS (klass)->finalize = gala_media_feedback_finalize;
#line 1220 "MediaFeedback.c"
}


static void gala_media_feedback_instance_init (GalaMediaFeedback * self) {
#line 27 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	self->priv = GALA_MEDIA_FEEDBACK_GET_PRIVATE (self);
#line 60 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	self->priv->connection = NULL;
#line 61 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	g_rec_mutex_init (&self->priv->__lock_notifications);
#line 61 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	self->priv->notifications = NULL;
#line 62 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	self->priv->dbus_name_owner_changed_signal_id = (guint) 0;
#line 63 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	self->priv->notification_id = (guint32) 0;
#line 1237 "MediaFeedback.c"
}


static void gala_media_feedback_finalize (GObject* obj) {
	GalaMediaFeedback * self;
#line 27 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, GALA_TYPE_MEDIA_FEEDBACK, GalaMediaFeedback);
#line 60 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	_g_object_unref0 (self->priv->connection);
#line 61 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	g_rec_mutex_clear (&self->priv->__lock_notifications);
#line 61 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	_g_object_unref0 (self->priv->notifications);
#line 27 "/home/nick/work/Enso-OS/galal/src/MediaFeedback.vala"
	G_OBJECT_CLASS (gala_media_feedback_parent_class)->finalize (obj);
#line 1253 "MediaFeedback.c"
}


GType gala_media_feedback_get_type (void) {
	static volatile gsize gala_media_feedback_type_id__volatile = 0;
	if (g_once_init_enter (&gala_media_feedback_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (GalaMediaFeedbackClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) gala_media_feedback_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (GalaMediaFeedback), 0, (GInstanceInitFunc) gala_media_feedback_instance_init, NULL };
		GType gala_media_feedback_type_id;
		gala_media_feedback_type_id = g_type_register_static (G_TYPE_OBJECT, "GalaMediaFeedback", &g_define_type_info, 0);
		g_once_init_leave (&gala_media_feedback_type_id__volatile, gala_media_feedback_type_id);
	}
	return gala_media_feedback_type_id__volatile;
}


static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	if ((array != NULL) && (destroy_func != NULL)) {
		int i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}


static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}



