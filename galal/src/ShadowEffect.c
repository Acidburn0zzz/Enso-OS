/* ShadowEffect.c generated by valac 0.30.1, the Vala compiler
 * generated from ShadowEffect.vala, do not modify */

/**/
/*  Copyright (C) 2014 Tom Beckmann*/
/**/
/*  This program is free software: you can redistribute it and/or modify*/
/*  it under the terms of the GNU General Public License as published by*/
/*  the Free Software Foundation, either version 3 of the License, or*/
/*  (at your option) any later version.*/
/**/
/*  This program is distributed in the hope that it will be useful,*/
/*  but WITHOUT ANY WARRANTY; without even the implied warranty of*/
/*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the*/
/*  GNU General Public License for more details.*/
/**/
/*  You should have received a copy of the GNU General Public License*/
/*  along with this program.  If not, see <http://www.gnu.org/licenses/>.*/
/**/

#include <glib.h>
#include <glib-object.h>
#include <clutter/clutter.h>
#include <float.h>
#include <math.h>
#include <cogl/cogl.h>
#include <stdlib.h>
#include <string.h>
#include <gee.h>
#include <granite.h>
#include <cairo.h>
#include <gobject/gvaluecollector.h>


#define GALA_TYPE_SHADOW_EFFECT (gala_shadow_effect_get_type ())
#define GALA_SHADOW_EFFECT(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_TYPE_SHADOW_EFFECT, GalaShadowEffect))
#define GALA_SHADOW_EFFECT_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_TYPE_SHADOW_EFFECT, GalaShadowEffectClass))
#define GALA_IS_SHADOW_EFFECT(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_TYPE_SHADOW_EFFECT))
#define GALA_IS_SHADOW_EFFECT_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_TYPE_SHADOW_EFFECT))
#define GALA_SHADOW_EFFECT_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_TYPE_SHADOW_EFFECT, GalaShadowEffectClass))

typedef struct _GalaShadowEffect GalaShadowEffect;
typedef struct _GalaShadowEffectClass GalaShadowEffectClass;
typedef struct _GalaShadowEffectPrivate GalaShadowEffectPrivate;

#define GALA_SHADOW_EFFECT_TYPE_SHADOW (gala_shadow_effect_shadow_get_type ())
#define GALA_SHADOW_EFFECT_SHADOW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GALA_SHADOW_EFFECT_TYPE_SHADOW, GalaShadowEffectShadow))
#define GALA_SHADOW_EFFECT_SHADOW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GALA_SHADOW_EFFECT_TYPE_SHADOW, GalaShadowEffectShadowClass))
#define GALA_SHADOW_EFFECT_IS_SHADOW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GALA_SHADOW_EFFECT_TYPE_SHADOW))
#define GALA_SHADOW_EFFECT_IS_SHADOW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GALA_SHADOW_EFFECT_TYPE_SHADOW))
#define GALA_SHADOW_EFFECT_SHADOW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GALA_SHADOW_EFFECT_TYPE_SHADOW, GalaShadowEffectShadowClass))

typedef struct _GalaShadowEffectShadow GalaShadowEffectShadow;
typedef struct _GalaShadowEffectShadowClass GalaShadowEffectShadowClass;
#define _cogl_material_unref0(var) ((var == NULL) ? NULL : (var = (cogl_material_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))
#define _gala_shadow_effect_shadow_unref0(var) ((var == NULL) ? NULL : (var = (gala_shadow_effect_shadow_unref (var), NULL)))
typedef struct _GalaShadowEffectShadowPrivate GalaShadowEffectShadowPrivate;
#define _cairo_destroy0(var) ((var == NULL) ? NULL : (var = (cairo_destroy (var), NULL)))
#define _cairo_surface_destroy0(var) ((var == NULL) ? NULL : (var = (cairo_surface_destroy (var), NULL)))
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _cogl_texture_unref0(var) ((var == NULL) ? NULL : (var = (cogl_texture_unref (var), NULL)))
typedef struct _GalaShadowEffectParamSpecShadow GalaShadowEffectParamSpecShadow;

struct _GalaShadowEffect {
	ClutterEffect parent_instance;
	GalaShadowEffectPrivate * priv;
};

struct _GalaShadowEffectClass {
	ClutterEffectClass parent_class;
	void (*get_bounding_box) (GalaShadowEffect* self, ClutterActorBox* result);
};

struct _GalaShadowEffectPrivate {
	gint _shadow_size;
	gint _shadow_spread;
	gfloat _scale_factor;
	guint8 _shadow_opacity;
	CoglHandle* material;
	gchar* current_key;
};

struct _GalaShadowEffectShadow {
	GTypeInstance parent_instance;
	volatile int ref_count;
	GalaShadowEffectShadowPrivate * priv;
	gint users;
	CoglHandle* texture;
};

struct _GalaShadowEffectShadowClass {
	GTypeClass parent_class;
	void (*finalize) (GalaShadowEffectShadow *self);
};

struct _GalaShadowEffectParamSpecShadow {
	GParamSpec parent_instance;
};


static gpointer gala_shadow_effect_parent_class = NULL;
static GeeHashMap* gala_shadow_effect_shadow_cache;
static GeeHashMap* gala_shadow_effect_shadow_cache = NULL;
static gpointer gala_shadow_effect_shadow_parent_class = NULL;

GType gala_shadow_effect_get_type (void) G_GNUC_CONST;
#define GALA_SHADOW_EFFECT_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), GALA_TYPE_SHADOW_EFFECT, GalaShadowEffectPrivate))
enum  {
	GALA_SHADOW_EFFECT_DUMMY_PROPERTY,
	GALA_SHADOW_EFFECT_SHADOW_SIZE,
	GALA_SHADOW_EFFECT_SHADOW_SPREAD,
	GALA_SHADOW_EFFECT_SCALE_FACTOR,
	GALA_SHADOW_EFFECT_SHADOW_OPACITY
};
static void gala_shadow_effect_decrement_shadow_users (GalaShadowEffect* self, const gchar* key);
static gpointer gala_shadow_effect_shadow_ref (gpointer instance);
static void gala_shadow_effect_shadow_unref (gpointer instance);
static GParamSpec* gala_shadow_effect_param_spec_shadow (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags) G_GNUC_UNUSED;
static void gala_shadow_effect_value_set_shadow (GValue* value, gpointer v_object) G_GNUC_UNUSED;
static void gala_shadow_effect_value_take_shadow (GValue* value, gpointer v_object) G_GNUC_UNUSED;
static gpointer gala_shadow_effect_value_get_shadow (const GValue* value) G_GNUC_UNUSED;
static GType gala_shadow_effect_shadow_get_type (void) G_GNUC_CONST G_GNUC_UNUSED;
GalaShadowEffect* gala_shadow_effect_new (gint shadow_size, gint shadow_spread);
GalaShadowEffect* gala_shadow_effect_construct (GType object_type, gint shadow_size, gint shadow_spread);
static CoglHandle* gala_shadow_effect_get_shadow (GalaShadowEffect* self, gint width, gint height, gint shadow_size, gint shadow_spread);
static GalaShadowEffectShadow* gala_shadow_effect_shadow_new (CoglHandle* _texture);
static GalaShadowEffectShadow* gala_shadow_effect_shadow_construct (GType object_type, CoglHandle* _texture);
static void gala_shadow_effect_real_paint (ClutterEffect* base, ClutterEffectPaintFlags flags);
void gala_shadow_effect_get_bounding_box (GalaShadowEffect* self, ClutterActorBox* result);
gint gala_shadow_effect_get_shadow_size (GalaShadowEffect* self);
gint gala_shadow_effect_get_shadow_spread (GalaShadowEffect* self);
guint8 gala_shadow_effect_get_shadow_opacity (GalaShadowEffect* self);
static void gala_shadow_effect_real_get_bounding_box (GalaShadowEffect* self, ClutterActorBox* result);
gfloat gala_shadow_effect_get_scale_factor (GalaShadowEffect* self);
static void gala_shadow_effect_set_shadow_size (GalaShadowEffect* self, gint value);
static void gala_shadow_effect_set_shadow_spread (GalaShadowEffect* self, gint value);
void gala_shadow_effect_set_scale_factor (GalaShadowEffect* self, gfloat value);
void gala_shadow_effect_set_shadow_opacity (GalaShadowEffect* self, guint8 value);
static GObject * gala_shadow_effect_constructor (GType type, guint n_construct_properties, GObjectConstructParam * construct_properties);
enum  {
	GALA_SHADOW_EFFECT_SHADOW_DUMMY_PROPERTY
};
static void gala_shadow_effect_shadow_finalize (GalaShadowEffectShadow* obj);
static void gala_shadow_effect_finalize (GObject* obj);
static void _vala_gala_shadow_effect_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec);
static void _vala_gala_shadow_effect_set_property (GObject * object, guint property_id, const GValue * value, GParamSpec * pspec);


GalaShadowEffect* gala_shadow_effect_construct (GType object_type, gint shadow_size, gint shadow_spread) {
	GalaShadowEffect * self = NULL;
	gint _tmp0_ = 0;
	gint _tmp1_ = 0;
#line 56 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp0_ = shadow_size;
#line 56 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp1_ = shadow_spread;
#line 56 "/home/nick/work/gala/src/ShadowEffect.vala"
	self = (GalaShadowEffect*) g_object_new (object_type, "shadow-size", _tmp0_, "shadow-spread", _tmp1_, NULL);
#line 54 "/home/nick/work/gala/src/ShadowEffect.vala"
	return self;
#line 163 "ShadowEffect.c"
}


GalaShadowEffect* gala_shadow_effect_new (gint shadow_size, gint shadow_spread) {
#line 54 "/home/nick/work/gala/src/ShadowEffect.vala"
	return gala_shadow_effect_construct (GALA_TYPE_SHADOW_EFFECT, shadow_size, shadow_spread);
#line 170 "ShadowEffect.c"
}


static gpointer _cogl_texture_ref0 (gpointer self) {
#line 84 "/home/nick/work/gala/src/ShadowEffect.vala"
	return self ? cogl_texture_ref (self) : NULL;
#line 177 "ShadowEffect.c"
}


static CoglHandle* gala_shadow_effect_get_shadow (GalaShadowEffect* self, gint width, gint height, gint shadow_size, gint shadow_spread) {
	CoglHandle* result = NULL;
	gchar* old_key = NULL;
	const gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
	gint _tmp2_ = 0;
	gint _tmp3_ = 0;
	gint _tmp4_ = 0;
	gint _tmp5_ = 0;
	gchar* _tmp6_ = NULL;
	const gchar* _tmp7_ = NULL;
	const gchar* _tmp8_ = NULL;
	const gchar* _tmp9_ = NULL;
	GalaShadowEffectShadow* shadow = NULL;
	GeeHashMap* _tmp11_ = NULL;
	const gchar* _tmp12_ = NULL;
	gpointer _tmp13_ = NULL;
	GalaShadowEffectShadow* _tmp14_ = NULL;
	GraniteDrawingBufferSurface* buffer = NULL;
	gint _tmp20_ = 0;
	gint _tmp21_ = 0;
	GraniteDrawingBufferSurface* _tmp22_ = NULL;
	GraniteDrawingBufferSurface* _tmp23_ = NULL;
	cairo_t* _tmp24_ = NULL;
	cairo_t* _tmp25_ = NULL;
	gint _tmp26_ = 0;
	gint _tmp27_ = 0;
	gint _tmp28_ = 0;
	gint _tmp29_ = 0;
	gint _tmp30_ = 0;
	gint _tmp31_ = 0;
	gint _tmp32_ = 0;
	gint _tmp33_ = 0;
	gint _tmp34_ = 0;
	gint _tmp35_ = 0;
	GraniteDrawingBufferSurface* _tmp36_ = NULL;
	cairo_t* _tmp37_ = NULL;
	cairo_t* _tmp38_ = NULL;
	GraniteDrawingBufferSurface* _tmp39_ = NULL;
	cairo_t* _tmp40_ = NULL;
	cairo_t* _tmp41_ = NULL;
	GraniteDrawingBufferSurface* _tmp42_ = NULL;
	gint _tmp43_ = 0;
	cairo_surface_t* surface = NULL;
	gint _tmp44_ = 0;
	gint _tmp45_ = 0;
	cairo_surface_t* _tmp46_ = NULL;
	cairo_t* cr = NULL;
	cairo_surface_t* _tmp47_ = NULL;
	cairo_t* _tmp48_ = NULL;
	cairo_t* _tmp49_ = NULL;
	GraniteDrawingBufferSurface* _tmp50_ = NULL;
	cairo_surface_t* _tmp51_ = NULL;
	cairo_surface_t* _tmp52_ = NULL;
	cairo_t* _tmp53_ = NULL;
	CoglHandle* texture = NULL;
	gint _tmp54_ = 0;
	gint _tmp55_ = 0;
	cairo_surface_t* _tmp56_ = NULL;
	gint _tmp57_ = 0;
	cairo_surface_t* _tmp58_ = NULL;
	guchar* _tmp59_ = NULL;
	CoglHandle* _tmp60_ = NULL;
	GeeHashMap* _tmp61_ = NULL;
	const gchar* _tmp62_ = NULL;
	CoglHandle* _tmp63_ = NULL;
	GalaShadowEffectShadow* _tmp64_ = NULL;
	GalaShadowEffectShadow* _tmp65_ = NULL;
#line 70 "/home/nick/work/gala/src/ShadowEffect.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 72 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp0_ = self->priv->current_key;
#line 72 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp1_ = g_strdup (_tmp0_);
#line 72 "/home/nick/work/gala/src/ShadowEffect.vala"
	old_key = _tmp1_;
#line 74 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp2_ = width;
#line 74 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp3_ = height;
#line 74 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp4_ = shadow_size;
#line 74 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp5_ = shadow_spread;
#line 74 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp6_ = g_strdup_printf ("%ix%i:%i:%i", _tmp2_, _tmp3_, _tmp4_, _tmp5_);
#line 74 "/home/nick/work/gala/src/ShadowEffect.vala"
	_g_free0 (self->priv->current_key);
#line 74 "/home/nick/work/gala/src/ShadowEffect.vala"
	self->priv->current_key = _tmp6_;
#line 75 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp7_ = old_key;
#line 75 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp8_ = self->priv->current_key;
#line 75 "/home/nick/work/gala/src/ShadowEffect.vala"
	if (g_strcmp0 (_tmp7_, _tmp8_) == 0) {
#line 76 "/home/nick/work/gala/src/ShadowEffect.vala"
		result = NULL;
#line 76 "/home/nick/work/gala/src/ShadowEffect.vala"
		_g_free0 (old_key);
#line 76 "/home/nick/work/gala/src/ShadowEffect.vala"
		return result;
#line 283 "ShadowEffect.c"
	}
#line 78 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp9_ = old_key;
#line 78 "/home/nick/work/gala/src/ShadowEffect.vala"
	if (_tmp9_ != NULL) {
#line 289 "ShadowEffect.c"
		const gchar* _tmp10_ = NULL;
#line 79 "/home/nick/work/gala/src/ShadowEffect.vala"
		_tmp10_ = old_key;
#line 79 "/home/nick/work/gala/src/ShadowEffect.vala"
		gala_shadow_effect_decrement_shadow_users (self, _tmp10_);
#line 295 "ShadowEffect.c"
	}
#line 81 "/home/nick/work/gala/src/ShadowEffect.vala"
	shadow = NULL;
#line 82 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp11_ = gala_shadow_effect_shadow_cache;
#line 82 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp12_ = self->priv->current_key;
#line 82 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp13_ = gee_abstract_map_get ((GeeAbstractMap*) _tmp11_, _tmp12_);
#line 82 "/home/nick/work/gala/src/ShadowEffect.vala"
	_gala_shadow_effect_shadow_unref0 (shadow);
#line 82 "/home/nick/work/gala/src/ShadowEffect.vala"
	shadow = (GalaShadowEffectShadow*) _tmp13_;
#line 82 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp14_ = shadow;
#line 82 "/home/nick/work/gala/src/ShadowEffect.vala"
	if (_tmp14_ != NULL) {
#line 313 "ShadowEffect.c"
		GalaShadowEffectShadow* _tmp15_ = NULL;
		gint _tmp16_ = 0;
		GalaShadowEffectShadow* _tmp17_ = NULL;
		CoglHandle* _tmp18_ = NULL;
		CoglHandle* _tmp19_ = NULL;
#line 83 "/home/nick/work/gala/src/ShadowEffect.vala"
		_tmp15_ = shadow;
#line 83 "/home/nick/work/gala/src/ShadowEffect.vala"
		_tmp16_ = _tmp15_->users;
#line 83 "/home/nick/work/gala/src/ShadowEffect.vala"
		_tmp15_->users = _tmp16_ + 1;
#line 84 "/home/nick/work/gala/src/ShadowEffect.vala"
		_tmp17_ = shadow;
#line 84 "/home/nick/work/gala/src/ShadowEffect.vala"
		_tmp18_ = _tmp17_->texture;
#line 84 "/home/nick/work/gala/src/ShadowEffect.vala"
		_tmp19_ = _cogl_texture_ref0 (_tmp18_);
#line 84 "/home/nick/work/gala/src/ShadowEffect.vala"
		result = _tmp19_;
#line 84 "/home/nick/work/gala/src/ShadowEffect.vala"
		_gala_shadow_effect_shadow_unref0 (shadow);
#line 84 "/home/nick/work/gala/src/ShadowEffect.vala"
		_g_free0 (old_key);
#line 84 "/home/nick/work/gala/src/ShadowEffect.vala"
		return result;
#line 339 "ShadowEffect.c"
	}
#line 88 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp20_ = width;
#line 88 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp21_ = height;
#line 88 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp22_ = granite_drawing_buffer_surface_new (_tmp20_, _tmp21_);
#line 88 "/home/nick/work/gala/src/ShadowEffect.vala"
	buffer = _tmp22_;
#line 89 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp23_ = buffer;
#line 89 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp24_ = granite_drawing_buffer_surface_get_context (_tmp23_);
#line 89 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp25_ = _tmp24_;
#line 89 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp26_ = shadow_size;
#line 89 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp27_ = shadow_spread;
#line 89 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp28_ = shadow_size;
#line 89 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp29_ = shadow_spread;
#line 89 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp30_ = width;
#line 89 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp31_ = shadow_size;
#line 89 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp32_ = shadow_spread;
#line 89 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp33_ = height;
#line 89 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp34_ = shadow_size;
#line 89 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp35_ = shadow_spread;
#line 89 "/home/nick/work/gala/src/ShadowEffect.vala"
	cairo_rectangle (_tmp25_, (gdouble) (_tmp26_ - _tmp27_), (gdouble) (_tmp28_ - _tmp29_), (gdouble) ((_tmp30_ - (_tmp31_ * 2)) + (_tmp32_ * 2)), (gdouble) ((_tmp33_ - (_tmp34_ * 2)) + (_tmp35_ * 2)));
#line 91 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp36_ = buffer;
#line 91 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp37_ = granite_drawing_buffer_surface_get_context (_tmp36_);
#line 91 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp38_ = _tmp37_;
#line 91 "/home/nick/work/gala/src/ShadowEffect.vala"
	cairo_set_source_rgba (_tmp38_, (gdouble) 0, (gdouble) 0, (gdouble) 0, 0.7);
#line 92 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp39_ = buffer;
#line 92 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp40_ = granite_drawing_buffer_surface_get_context (_tmp39_);
#line 92 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp41_ = _tmp40_;
#line 92 "/home/nick/work/gala/src/ShadowEffect.vala"
	cairo_fill (_tmp41_);
#line 94 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp42_ = buffer;
#line 94 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp43_ = shadow_size;
#line 94 "/home/nick/work/gala/src/ShadowEffect.vala"
	granite_drawing_buffer_surface_exponential_blur (_tmp42_, _tmp43_ / 2);
#line 96 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp44_ = width;
#line 96 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp45_ = height;
#line 96 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp46_ = cairo_image_surface_create (CAIRO_FORMAT_ARGB32, _tmp44_, _tmp45_);
#line 96 "/home/nick/work/gala/src/ShadowEffect.vala"
	surface = _tmp46_;
#line 97 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp47_ = surface;
#line 97 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp48_ = cairo_create (_tmp47_);
#line 97 "/home/nick/work/gala/src/ShadowEffect.vala"
	cr = _tmp48_;
#line 99 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp49_ = cr;
#line 99 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp50_ = buffer;
#line 99 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp51_ = granite_drawing_buffer_surface_get_surface (_tmp50_);
#line 99 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp52_ = _tmp51_;
#line 99 "/home/nick/work/gala/src/ShadowEffect.vala"
	cairo_set_source_surface (_tmp49_, _tmp52_, (gdouble) 0, (gdouble) 0);
#line 100 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp53_ = cr;
#line 100 "/home/nick/work/gala/src/ShadowEffect.vala"
	cairo_paint (_tmp53_);
#line 102 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp54_ = width;
#line 102 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp55_ = height;
#line 102 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp56_ = surface;
#line 102 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp57_ = cairo_image_surface_get_stride (_tmp56_);
#line 102 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp58_ = surface;
#line 102 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp59_ = cairo_image_surface_get_data (_tmp58_);
#line 102 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp60_ = cogl_texture_new_from_data ((guint) _tmp54_, (guint) _tmp55_, 0, COGL_PIXEL_FORMAT_BGRA_8888_PRE, COGL_PIXEL_FORMAT_ANY, (guint) _tmp57_, _tmp59_);
#line 102 "/home/nick/work/gala/src/ShadowEffect.vala"
	texture = _tmp60_;
#line 105 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp61_ = gala_shadow_effect_shadow_cache;
#line 105 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp62_ = self->priv->current_key;
#line 105 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp63_ = texture;
#line 105 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp64_ = gala_shadow_effect_shadow_new (_tmp63_);
#line 105 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp65_ = _tmp64_;
#line 105 "/home/nick/work/gala/src/ShadowEffect.vala"
	gee_abstract_map_set ((GeeAbstractMap*) _tmp61_, _tmp62_, _tmp65_);
#line 105 "/home/nick/work/gala/src/ShadowEffect.vala"
	_gala_shadow_effect_shadow_unref0 (_tmp65_);
#line 107 "/home/nick/work/gala/src/ShadowEffect.vala"
	result = texture;
#line 107 "/home/nick/work/gala/src/ShadowEffect.vala"
	_cairo_destroy0 (cr);
#line 107 "/home/nick/work/gala/src/ShadowEffect.vala"
	_cairo_surface_destroy0 (surface);
#line 107 "/home/nick/work/gala/src/ShadowEffect.vala"
	_g_object_unref0 (buffer);
#line 107 "/home/nick/work/gala/src/ShadowEffect.vala"
	_gala_shadow_effect_shadow_unref0 (shadow);
#line 107 "/home/nick/work/gala/src/ShadowEffect.vala"
	_g_free0 (old_key);
#line 107 "/home/nick/work/gala/src/ShadowEffect.vala"
	return result;
#line 471 "ShadowEffect.c"
}


static void gala_shadow_effect_decrement_shadow_users (GalaShadowEffect* self, const gchar* key) {
	GalaShadowEffectShadow* shadow = NULL;
	GeeHashMap* _tmp0_ = NULL;
	const gchar* _tmp1_ = NULL;
	gpointer _tmp2_ = NULL;
	GalaShadowEffectShadow* _tmp3_ = NULL;
	GalaShadowEffectShadow* _tmp4_ = NULL;
	GalaShadowEffectShadow* _tmp5_ = NULL;
	gint _tmp6_ = 0;
	gint _tmp7_ = 0;
#line 110 "/home/nick/work/gala/src/ShadowEffect.vala"
	g_return_if_fail (self != NULL);
#line 110 "/home/nick/work/gala/src/ShadowEffect.vala"
	g_return_if_fail (key != NULL);
#line 112 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp0_ = gala_shadow_effect_shadow_cache;
#line 112 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp1_ = key;
#line 112 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp2_ = gee_abstract_map_get ((GeeAbstractMap*) _tmp0_, _tmp1_);
#line 112 "/home/nick/work/gala/src/ShadowEffect.vala"
	shadow = (GalaShadowEffectShadow*) _tmp2_;
#line 114 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp3_ = shadow;
#line 114 "/home/nick/work/gala/src/ShadowEffect.vala"
	if (_tmp3_ == NULL) {
#line 115 "/home/nick/work/gala/src/ShadowEffect.vala"
		_gala_shadow_effect_shadow_unref0 (shadow);
#line 115 "/home/nick/work/gala/src/ShadowEffect.vala"
		return;
#line 505 "ShadowEffect.c"
	}
#line 117 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp4_ = shadow;
#line 117 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp5_ = shadow;
#line 117 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp6_ = _tmp5_->users;
#line 117 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp5_->users = _tmp6_ - 1;
#line 117 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp7_ = _tmp5_->users;
#line 117 "/home/nick/work/gala/src/ShadowEffect.vala"
	if (_tmp7_ == 0) {
#line 519 "ShadowEffect.c"
		GeeHashMap* _tmp8_ = NULL;
		const gchar* _tmp9_ = NULL;
#line 118 "/home/nick/work/gala/src/ShadowEffect.vala"
		_tmp8_ = gala_shadow_effect_shadow_cache;
#line 118 "/home/nick/work/gala/src/ShadowEffect.vala"
		_tmp9_ = key;
#line 118 "/home/nick/work/gala/src/ShadowEffect.vala"
		gee_abstract_map_unset ((GeeAbstractMap*) _tmp8_, _tmp9_, NULL);
#line 528 "ShadowEffect.c"
	}
#line 110 "/home/nick/work/gala/src/ShadowEffect.vala"
	_gala_shadow_effect_shadow_unref0 (shadow);
#line 532 "ShadowEffect.c"
}


static void gala_shadow_effect_real_paint (ClutterEffect* base, ClutterEffectPaintFlags flags) {
	GalaShadowEffect * self;
	ClutterActorBox bounding_box = {0};
	ClutterActorBox _tmp0_ = {0};
	CoglHandle* shadow = NULL;
	ClutterActorBox _tmp1_ = {0};
	gfloat _tmp2_ = 0.0F;
	ClutterActorBox _tmp3_ = {0};
	gfloat _tmp4_ = 0.0F;
	ClutterActorBox _tmp5_ = {0};
	gfloat _tmp6_ = 0.0F;
	ClutterActorBox _tmp7_ = {0};
	gfloat _tmp8_ = 0.0F;
	gint _tmp9_ = 0;
	gint _tmp10_ = 0;
	CoglHandle* _tmp11_ = NULL;
	CoglHandle* _tmp12_ = NULL;
	gint opacity = 0;
	ClutterActor* _tmp15_ = NULL;
	ClutterActor* _tmp16_ = NULL;
	guint8 _tmp17_ = 0U;
	guint8 _tmp18_ = 0U;
	CoglColor alpha = {0};
	CoglHandle* _tmp19_ = NULL;
	CoglColor _tmp20_ = {0};
	CoglHandle* _tmp21_ = NULL;
	ClutterActorBox _tmp22_ = {0};
	gfloat _tmp23_ = 0.0F;
	ClutterActorBox _tmp24_ = {0};
	gfloat _tmp25_ = 0.0F;
	ClutterActorBox _tmp26_ = {0};
	gfloat _tmp27_ = 0.0F;
	ClutterActorBox _tmp28_ = {0};
	gfloat _tmp29_ = 0.0F;
	ClutterActor* _tmp30_ = NULL;
	ClutterActor* _tmp31_ = NULL;
#line 121 "/home/nick/work/gala/src/ShadowEffect.vala"
	self = (GalaShadowEffect*) base;
#line 123 "/home/nick/work/gala/src/ShadowEffect.vala"
	gala_shadow_effect_get_bounding_box (self, &_tmp0_);
#line 123 "/home/nick/work/gala/src/ShadowEffect.vala"
	bounding_box = _tmp0_;
#line 124 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp1_ = bounding_box;
#line 124 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp2_ = _tmp1_.x2;
#line 124 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp3_ = bounding_box;
#line 124 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp4_ = _tmp3_.x1;
#line 124 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp5_ = bounding_box;
#line 124 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp6_ = _tmp5_.y2;
#line 124 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp7_ = bounding_box;
#line 124 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp8_ = _tmp7_.y1;
#line 124 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp9_ = self->priv->_shadow_size;
#line 124 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp10_ = self->priv->_shadow_spread;
#line 124 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp11_ = gala_shadow_effect_get_shadow (self, (gint) (_tmp2_ - _tmp4_), (gint) (_tmp6_ - _tmp8_), _tmp9_, _tmp10_);
#line 124 "/home/nick/work/gala/src/ShadowEffect.vala"
	shadow = _tmp11_;
#line 127 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp12_ = shadow;
#line 127 "/home/nick/work/gala/src/ShadowEffect.vala"
	if (_tmp12_ != NULL) {
#line 606 "ShadowEffect.c"
		CoglHandle* _tmp13_ = NULL;
		CoglHandle* _tmp14_ = NULL;
#line 128 "/home/nick/work/gala/src/ShadowEffect.vala"
		_tmp13_ = self->priv->material;
#line 128 "/home/nick/work/gala/src/ShadowEffect.vala"
		_tmp14_ = shadow;
#line 128 "/home/nick/work/gala/src/ShadowEffect.vala"
		cogl_material_set_layer (_tmp13_, 0, _tmp14_);
#line 615 "ShadowEffect.c"
	}
#line 130 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp15_ = clutter_actor_meta_get_actor ((ClutterActorMeta*) self);
#line 130 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp16_ = _tmp15_;
#line 130 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp17_ = clutter_actor_get_paint_opacity (_tmp16_);
#line 130 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp18_ = self->priv->_shadow_opacity;
#line 130 "/home/nick/work/gala/src/ShadowEffect.vala"
	opacity = (_tmp17_ * _tmp18_) / 255;
#line 131 "/home/nick/work/gala/src/ShadowEffect.vala"
	cogl_color_init_from_4ub (&alpha, (guint8) 255, (guint8) 255, (guint8) 255, (guint8) opacity);
#line 132 "/home/nick/work/gala/src/ShadowEffect.vala"
	cogl_color_premultiply (&alpha);
#line 134 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp19_ = self->priv->material;
#line 134 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp20_ = alpha;
#line 134 "/home/nick/work/gala/src/ShadowEffect.vala"
	cogl_material_set_color (_tmp19_, &_tmp20_);
#line 136 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp21_ = self->priv->material;
#line 136 "/home/nick/work/gala/src/ShadowEffect.vala"
	cogl_set_source (_tmp21_);
#line 137 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp22_ = bounding_box;
#line 137 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp23_ = _tmp22_.x1;
#line 137 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp24_ = bounding_box;
#line 137 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp25_ = _tmp24_.y1;
#line 137 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp26_ = bounding_box;
#line 137 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp27_ = _tmp26_.x2;
#line 137 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp28_ = bounding_box;
#line 137 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp29_ = _tmp28_.y2;
#line 137 "/home/nick/work/gala/src/ShadowEffect.vala"
	cogl_rectangle (_tmp23_, _tmp25_, _tmp27_, _tmp29_);
#line 139 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp30_ = clutter_actor_meta_get_actor ((ClutterActorMeta*) self);
#line 139 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp31_ = _tmp30_;
#line 139 "/home/nick/work/gala/src/ShadowEffect.vala"
	clutter_actor_continue_paint (_tmp31_);
#line 121 "/home/nick/work/gala/src/ShadowEffect.vala"
	_cogl_texture_unref0 (shadow);
#line 667 "ShadowEffect.c"
}


static void gala_shadow_effect_real_get_bounding_box (GalaShadowEffect* self, ClutterActorBox* result) {
	gfloat size = 0.0F;
	gint _tmp0_ = 0;
	gfloat _tmp1_ = 0.0F;
	ClutterActorBox bounding_box = {0};
	ClutterActor* _tmp2_ = NULL;
	ClutterActor* _tmp3_ = NULL;
	gfloat _tmp4_ = 0.0F;
	gfloat _tmp5_ = 0.0F;
	ClutterActor* _tmp6_ = NULL;
	ClutterActor* _tmp7_ = NULL;
	gfloat _tmp8_ = 0.0F;
	gfloat _tmp9_ = 0.0F;
#line 144 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp0_ = self->priv->_shadow_size;
#line 144 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp1_ = self->priv->_scale_factor;
#line 144 "/home/nick/work/gala/src/ShadowEffect.vala"
	size = _tmp0_ * _tmp1_;
#line 145 "/home/nick/work/gala/src/ShadowEffect.vala"
	memset (&bounding_box, 0, sizeof (ClutterActorBox));
#line 147 "/home/nick/work/gala/src/ShadowEffect.vala"
	clutter_actor_box_set_origin (&bounding_box, -size, -size);
#line 148 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp2_ = clutter_actor_meta_get_actor ((ClutterActorMeta*) self);
#line 148 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp3_ = _tmp2_;
#line 148 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp4_ = clutter_actor_get_width (_tmp3_);
#line 148 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp5_ = _tmp4_;
#line 148 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp6_ = clutter_actor_meta_get_actor ((ClutterActorMeta*) self);
#line 148 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp7_ = _tmp6_;
#line 148 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp8_ = clutter_actor_get_height (_tmp7_);
#line 148 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp9_ = _tmp8_;
#line 148 "/home/nick/work/gala/src/ShadowEffect.vala"
	clutter_actor_box_set_size (&bounding_box, _tmp5_ + (size * 2), _tmp9_ + (size * 2));
#line 150 "/home/nick/work/gala/src/ShadowEffect.vala"
	*result = bounding_box;
#line 150 "/home/nick/work/gala/src/ShadowEffect.vala"
	return;
#line 716 "ShadowEffect.c"
}


void gala_shadow_effect_get_bounding_box (GalaShadowEffect* self, ClutterActorBox* result) {
#line 142 "/home/nick/work/gala/src/ShadowEffect.vala"
	g_return_if_fail (self != NULL);
#line 142 "/home/nick/work/gala/src/ShadowEffect.vala"
	GALA_SHADOW_EFFECT_GET_CLASS (self)->get_bounding_box (self, result);
#line 725 "ShadowEffect.c"
}


gint gala_shadow_effect_get_shadow_size (GalaShadowEffect* self) {
	gint result;
	gint _tmp0_ = 0;
#line 45 "/home/nick/work/gala/src/ShadowEffect.vala"
	g_return_val_if_fail (self != NULL, 0);
#line 45 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp0_ = self->priv->_shadow_size;
#line 45 "/home/nick/work/gala/src/ShadowEffect.vala"
	result = _tmp0_;
#line 45 "/home/nick/work/gala/src/ShadowEffect.vala"
	return result;
#line 740 "ShadowEffect.c"
}


static void gala_shadow_effect_set_shadow_size (GalaShadowEffect* self, gint value) {
	gint _tmp0_ = 0;
#line 45 "/home/nick/work/gala/src/ShadowEffect.vala"
	g_return_if_fail (self != NULL);
#line 45 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp0_ = value;
#line 45 "/home/nick/work/gala/src/ShadowEffect.vala"
	self->priv->_shadow_size = _tmp0_;
#line 45 "/home/nick/work/gala/src/ShadowEffect.vala"
	g_object_notify ((GObject *) self, "shadow-size");
#line 754 "ShadowEffect.c"
}


gint gala_shadow_effect_get_shadow_spread (GalaShadowEffect* self) {
	gint result;
	gint _tmp0_ = 0;
#line 46 "/home/nick/work/gala/src/ShadowEffect.vala"
	g_return_val_if_fail (self != NULL, 0);
#line 46 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp0_ = self->priv->_shadow_spread;
#line 46 "/home/nick/work/gala/src/ShadowEffect.vala"
	result = _tmp0_;
#line 46 "/home/nick/work/gala/src/ShadowEffect.vala"
	return result;
#line 769 "ShadowEffect.c"
}


static void gala_shadow_effect_set_shadow_spread (GalaShadowEffect* self, gint value) {
	gint _tmp0_ = 0;
#line 46 "/home/nick/work/gala/src/ShadowEffect.vala"
	g_return_if_fail (self != NULL);
#line 46 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp0_ = value;
#line 46 "/home/nick/work/gala/src/ShadowEffect.vala"
	self->priv->_shadow_spread = _tmp0_;
#line 46 "/home/nick/work/gala/src/ShadowEffect.vala"
	g_object_notify ((GObject *) self, "shadow-spread");
#line 783 "ShadowEffect.c"
}


gfloat gala_shadow_effect_get_scale_factor (GalaShadowEffect* self) {
	gfloat result;
	gfloat _tmp0_ = 0.0F;
#line 48 "/home/nick/work/gala/src/ShadowEffect.vala"
	g_return_val_if_fail (self != NULL, 0.0F);
#line 48 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp0_ = self->priv->_scale_factor;
#line 48 "/home/nick/work/gala/src/ShadowEffect.vala"
	result = _tmp0_;
#line 48 "/home/nick/work/gala/src/ShadowEffect.vala"
	return result;
#line 798 "ShadowEffect.c"
}


void gala_shadow_effect_set_scale_factor (GalaShadowEffect* self, gfloat value) {
	gfloat _tmp0_ = 0.0F;
#line 48 "/home/nick/work/gala/src/ShadowEffect.vala"
	g_return_if_fail (self != NULL);
#line 48 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp0_ = value;
#line 48 "/home/nick/work/gala/src/ShadowEffect.vala"
	self->priv->_scale_factor = _tmp0_;
#line 48 "/home/nick/work/gala/src/ShadowEffect.vala"
	g_object_notify ((GObject *) self, "scale-factor");
#line 812 "ShadowEffect.c"
}


guint8 gala_shadow_effect_get_shadow_opacity (GalaShadowEffect* self) {
	guint8 result;
	guint8 _tmp0_ = 0U;
#line 49 "/home/nick/work/gala/src/ShadowEffect.vala"
	g_return_val_if_fail (self != NULL, 0U);
#line 49 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp0_ = self->priv->_shadow_opacity;
#line 49 "/home/nick/work/gala/src/ShadowEffect.vala"
	result = _tmp0_;
#line 49 "/home/nick/work/gala/src/ShadowEffect.vala"
	return result;
#line 827 "ShadowEffect.c"
}


void gala_shadow_effect_set_shadow_opacity (GalaShadowEffect* self, guint8 value) {
	guint8 _tmp0_ = 0U;
#line 49 "/home/nick/work/gala/src/ShadowEffect.vala"
	g_return_if_fail (self != NULL);
#line 49 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp0_ = value;
#line 49 "/home/nick/work/gala/src/ShadowEffect.vala"
	self->priv->_shadow_opacity = _tmp0_;
#line 49 "/home/nick/work/gala/src/ShadowEffect.vala"
	g_object_notify ((GObject *) self, "shadow-opacity");
#line 841 "ShadowEffect.c"
}


static GObject * gala_shadow_effect_constructor (GType type, guint n_construct_properties, GObjectConstructParam * construct_properties) {
	GObject * obj;
	GObjectClass * parent_class;
	GalaShadowEffect * self;
	CoglHandle* _tmp0_ = NULL;
#line 59 "/home/nick/work/gala/src/ShadowEffect.vala"
	parent_class = G_OBJECT_CLASS (gala_shadow_effect_parent_class);
#line 59 "/home/nick/work/gala/src/ShadowEffect.vala"
	obj = parent_class->constructor (type, n_construct_properties, construct_properties);
#line 59 "/home/nick/work/gala/src/ShadowEffect.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, GALA_TYPE_SHADOW_EFFECT, GalaShadowEffect);
#line 61 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp0_ = (CoglHandle*) cogl_material_new ();
#line 61 "/home/nick/work/gala/src/ShadowEffect.vala"
	_cogl_material_unref0 (self->priv->material);
#line 61 "/home/nick/work/gala/src/ShadowEffect.vala"
	self->priv->material = _tmp0_;
#line 59 "/home/nick/work/gala/src/ShadowEffect.vala"
	return obj;
#line 864 "ShadowEffect.c"
}


static GalaShadowEffectShadow* gala_shadow_effect_shadow_construct (GType object_type, CoglHandle* _texture) {
	GalaShadowEffectShadow* self = NULL;
	CoglHandle* _tmp0_ = NULL;
	CoglHandle* _tmp1_ = NULL;
#line 29 "/home/nick/work/gala/src/ShadowEffect.vala"
	g_return_val_if_fail (_texture != NULL, NULL);
#line 29 "/home/nick/work/gala/src/ShadowEffect.vala"
	self = (GalaShadowEffectShadow*) g_type_create_instance (object_type);
#line 31 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp0_ = _texture;
#line 31 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp1_ = _cogl_texture_ref0 (_tmp0_);
#line 31 "/home/nick/work/gala/src/ShadowEffect.vala"
	_cogl_texture_unref0 (self->texture);
#line 31 "/home/nick/work/gala/src/ShadowEffect.vala"
	self->texture = _tmp1_;
#line 32 "/home/nick/work/gala/src/ShadowEffect.vala"
	self->users = 1;
#line 29 "/home/nick/work/gala/src/ShadowEffect.vala"
	return self;
#line 888 "ShadowEffect.c"
}


static GalaShadowEffectShadow* gala_shadow_effect_shadow_new (CoglHandle* _texture) {
#line 29 "/home/nick/work/gala/src/ShadowEffect.vala"
	return gala_shadow_effect_shadow_construct (GALA_SHADOW_EFFECT_TYPE_SHADOW, _texture);
#line 895 "ShadowEffect.c"
}


static void gala_shadow_effect_value_shadow_init (GValue* value) {
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
	value->data[0].v_pointer = NULL;
#line 902 "ShadowEffect.c"
}


static void gala_shadow_effect_value_shadow_free_value (GValue* value) {
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
	if (value->data[0].v_pointer) {
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
		gala_shadow_effect_shadow_unref (value->data[0].v_pointer);
#line 911 "ShadowEffect.c"
	}
}


static void gala_shadow_effect_value_shadow_copy_value (const GValue* src_value, GValue* dest_value) {
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
	if (src_value->data[0].v_pointer) {
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
		dest_value->data[0].v_pointer = gala_shadow_effect_shadow_ref (src_value->data[0].v_pointer);
#line 921 "ShadowEffect.c"
	} else {
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
		dest_value->data[0].v_pointer = NULL;
#line 925 "ShadowEffect.c"
	}
}


static gpointer gala_shadow_effect_value_shadow_peek_pointer (const GValue* value) {
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
	return value->data[0].v_pointer;
#line 933 "ShadowEffect.c"
}


static gchar* gala_shadow_effect_value_shadow_collect_value (GValue* value, guint n_collect_values, GTypeCValue* collect_values, guint collect_flags) {
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
	if (collect_values[0].v_pointer) {
#line 940 "ShadowEffect.c"
		GalaShadowEffectShadow* object;
		object = collect_values[0].v_pointer;
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
		if (object->parent_instance.g_class == NULL) {
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
			return g_strconcat ("invalid unclassed object pointer for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
#line 947 "ShadowEffect.c"
		} else if (!g_value_type_compatible (G_TYPE_FROM_INSTANCE (object), G_VALUE_TYPE (value))) {
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
			return g_strconcat ("invalid object type `", g_type_name (G_TYPE_FROM_INSTANCE (object)), "' for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
#line 951 "ShadowEffect.c"
		}
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
		value->data[0].v_pointer = gala_shadow_effect_shadow_ref (object);
#line 955 "ShadowEffect.c"
	} else {
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
		value->data[0].v_pointer = NULL;
#line 959 "ShadowEffect.c"
	}
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
	return NULL;
#line 963 "ShadowEffect.c"
}


static gchar* gala_shadow_effect_value_shadow_lcopy_value (const GValue* value, guint n_collect_values, GTypeCValue* collect_values, guint collect_flags) {
	GalaShadowEffectShadow** object_p;
	object_p = collect_values[0].v_pointer;
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
	if (!object_p) {
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
		return g_strdup_printf ("value location for `%s' passed as NULL", G_VALUE_TYPE_NAME (value));
#line 974 "ShadowEffect.c"
	}
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
	if (!value->data[0].v_pointer) {
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
		*object_p = NULL;
#line 980 "ShadowEffect.c"
	} else if (collect_flags & G_VALUE_NOCOPY_CONTENTS) {
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
		*object_p = value->data[0].v_pointer;
#line 984 "ShadowEffect.c"
	} else {
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
		*object_p = gala_shadow_effect_shadow_ref (value->data[0].v_pointer);
#line 988 "ShadowEffect.c"
	}
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
	return NULL;
#line 992 "ShadowEffect.c"
}


static GParamSpec* gala_shadow_effect_param_spec_shadow (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags) {
	GalaShadowEffectParamSpecShadow* spec;
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
	g_return_val_if_fail (g_type_is_a (object_type, GALA_SHADOW_EFFECT_TYPE_SHADOW), NULL);
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
	spec = g_param_spec_internal (G_TYPE_PARAM_OBJECT, name, nick, blurb, flags);
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
	G_PARAM_SPEC (spec)->value_type = object_type;
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
	return G_PARAM_SPEC (spec);
#line 1006 "ShadowEffect.c"
}


static gpointer gala_shadow_effect_value_get_shadow (const GValue* value) {
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
	g_return_val_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, GALA_SHADOW_EFFECT_TYPE_SHADOW), NULL);
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
	return value->data[0].v_pointer;
#line 1015 "ShadowEffect.c"
}


static void gala_shadow_effect_value_set_shadow (GValue* value, gpointer v_object) {
	GalaShadowEffectShadow* old;
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, GALA_SHADOW_EFFECT_TYPE_SHADOW));
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
	old = value->data[0].v_pointer;
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
	if (v_object) {
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, GALA_SHADOW_EFFECT_TYPE_SHADOW));
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
		value->data[0].v_pointer = v_object;
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
		gala_shadow_effect_shadow_ref (value->data[0].v_pointer);
#line 1035 "ShadowEffect.c"
	} else {
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
		value->data[0].v_pointer = NULL;
#line 1039 "ShadowEffect.c"
	}
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
	if (old) {
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
		gala_shadow_effect_shadow_unref (old);
#line 1045 "ShadowEffect.c"
	}
}


static void gala_shadow_effect_value_take_shadow (GValue* value, gpointer v_object) {
	GalaShadowEffectShadow* old;
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, GALA_SHADOW_EFFECT_TYPE_SHADOW));
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
	old = value->data[0].v_pointer;
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
	if (v_object) {
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, GALA_SHADOW_EFFECT_TYPE_SHADOW));
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
		value->data[0].v_pointer = v_object;
#line 1064 "ShadowEffect.c"
	} else {
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
		value->data[0].v_pointer = NULL;
#line 1068 "ShadowEffect.c"
	}
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
	if (old) {
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
		gala_shadow_effect_shadow_unref (old);
#line 1074 "ShadowEffect.c"
	}
}


static void gala_shadow_effect_shadow_class_init (GalaShadowEffectShadowClass * klass) {
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
	gala_shadow_effect_shadow_parent_class = g_type_class_peek_parent (klass);
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
	((GalaShadowEffectShadowClass *) klass)->finalize = gala_shadow_effect_shadow_finalize;
#line 1084 "ShadowEffect.c"
}


static void gala_shadow_effect_shadow_instance_init (GalaShadowEffectShadow * self) {
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
	self->ref_count = 1;
#line 1091 "ShadowEffect.c"
}


static void gala_shadow_effect_shadow_finalize (GalaShadowEffectShadow* obj) {
	GalaShadowEffectShadow * self;
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, GALA_SHADOW_EFFECT_TYPE_SHADOW, GalaShadowEffectShadow);
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
	g_signal_handlers_destroy (self);
#line 27 "/home/nick/work/gala/src/ShadowEffect.vala"
	_cogl_texture_unref0 (self->texture);
#line 1103 "ShadowEffect.c"
}


static GType gala_shadow_effect_shadow_get_type (void) {
	static volatile gsize gala_shadow_effect_shadow_type_id__volatile = 0;
	if (g_once_init_enter (&gala_shadow_effect_shadow_type_id__volatile)) {
		static const GTypeValueTable g_define_type_value_table = { gala_shadow_effect_value_shadow_init, gala_shadow_effect_value_shadow_free_value, gala_shadow_effect_value_shadow_copy_value, gala_shadow_effect_value_shadow_peek_pointer, "p", gala_shadow_effect_value_shadow_collect_value, "p", gala_shadow_effect_value_shadow_lcopy_value };
		static const GTypeInfo g_define_type_info = { sizeof (GalaShadowEffectShadowClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) gala_shadow_effect_shadow_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (GalaShadowEffectShadow), 0, (GInstanceInitFunc) gala_shadow_effect_shadow_instance_init, &g_define_type_value_table };
		static const GTypeFundamentalInfo g_define_type_fundamental_info = { (G_TYPE_FLAG_CLASSED | G_TYPE_FLAG_INSTANTIATABLE | G_TYPE_FLAG_DERIVABLE | G_TYPE_FLAG_DEEP_DERIVABLE) };
		GType gala_shadow_effect_shadow_type_id;
		gala_shadow_effect_shadow_type_id = g_type_register_fundamental (g_type_fundamental_next (), "GalaShadowEffectShadow", &g_define_type_info, &g_define_type_fundamental_info, 0);
		g_once_init_leave (&gala_shadow_effect_shadow_type_id__volatile, gala_shadow_effect_shadow_type_id);
	}
	return gala_shadow_effect_shadow_type_id__volatile;
}


static gpointer gala_shadow_effect_shadow_ref (gpointer instance) {
	GalaShadowEffectShadow* self;
	self = instance;
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
	g_atomic_int_inc (&self->ref_count);
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
	return instance;
#line 1128 "ShadowEffect.c"
}


static void gala_shadow_effect_shadow_unref (gpointer instance) {
	GalaShadowEffectShadow* self;
	self = instance;
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
	if (g_atomic_int_dec_and_test (&self->ref_count)) {
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
		GALA_SHADOW_EFFECT_SHADOW_GET_CLASS (self)->finalize (self);
#line 24 "/home/nick/work/gala/src/ShadowEffect.vala"
		g_type_free_instance ((GTypeInstance *) self);
#line 1141 "ShadowEffect.c"
	}
}


static void gala_shadow_effect_class_init (GalaShadowEffectClass * klass) {
	GeeHashMap* _tmp0_ = NULL;
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
	gala_shadow_effect_parent_class = g_type_class_peek_parent (klass);
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
	g_type_class_add_private (klass, sizeof (GalaShadowEffectPrivate));
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
	((ClutterEffectClass *) klass)->paint = gala_shadow_effect_real_paint;
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
	((GalaShadowEffectClass *) klass)->get_bounding_box = gala_shadow_effect_real_get_bounding_box;
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
	G_OBJECT_CLASS (klass)->get_property = _vala_gala_shadow_effect_get_property;
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
	G_OBJECT_CLASS (klass)->set_property = _vala_gala_shadow_effect_set_property;
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
	G_OBJECT_CLASS (klass)->constructor = gala_shadow_effect_constructor;
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
	G_OBJECT_CLASS (klass)->finalize = gala_shadow_effect_finalize;
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), GALA_SHADOW_EFFECT_SHADOW_SIZE, g_param_spec_int ("shadow-size", "shadow-size", "shadow-size", G_MININT, G_MAXINT, 0, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE | G_PARAM_CONSTRUCT_ONLY));
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), GALA_SHADOW_EFFECT_SHADOW_SPREAD, g_param_spec_int ("shadow-spread", "shadow-spread", "shadow-spread", G_MININT, G_MAXINT, 0, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE | G_PARAM_CONSTRUCT_ONLY));
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), GALA_SHADOW_EFFECT_SCALE_FACTOR, g_param_spec_float ("scale-factor", "scale-factor", "scale-factor", -G_MAXFLOAT, G_MAXFLOAT, (gfloat) 1, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), GALA_SHADOW_EFFECT_SHADOW_OPACITY, g_param_spec_uchar ("shadow-opacity", "shadow-opacity", "shadow-opacity", 0, G_MAXUINT8, (guint8) 255, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 42 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp0_ = gee_hash_map_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, GALA_SHADOW_EFFECT_TYPE_SHADOW, (GBoxedCopyFunc) gala_shadow_effect_shadow_ref, gala_shadow_effect_shadow_unref, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL);
#line 42 "/home/nick/work/gala/src/ShadowEffect.vala"
	_g_object_unref0 (gala_shadow_effect_shadow_cache);
#line 42 "/home/nick/work/gala/src/ShadowEffect.vala"
	gala_shadow_effect_shadow_cache = _tmp0_;
#line 1178 "ShadowEffect.c"
}


static void gala_shadow_effect_instance_init (GalaShadowEffect * self) {
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
	self->priv = GALA_SHADOW_EFFECT_GET_PRIVATE (self);
#line 48 "/home/nick/work/gala/src/ShadowEffect.vala"
	self->priv->_scale_factor = (gfloat) 1;
#line 49 "/home/nick/work/gala/src/ShadowEffect.vala"
	self->priv->_shadow_opacity = (guint8) 255;
#line 52 "/home/nick/work/gala/src/ShadowEffect.vala"
	self->priv->current_key = NULL;
#line 1191 "ShadowEffect.c"
}


static void gala_shadow_effect_finalize (GObject* obj) {
	GalaShadowEffect * self;
	const gchar* _tmp0_ = NULL;
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, GALA_TYPE_SHADOW_EFFECT, GalaShadowEffect);
#line 66 "/home/nick/work/gala/src/ShadowEffect.vala"
	_tmp0_ = self->priv->current_key;
#line 66 "/home/nick/work/gala/src/ShadowEffect.vala"
	if (_tmp0_ != NULL) {
#line 1204 "ShadowEffect.c"
		const gchar* _tmp1_ = NULL;
#line 67 "/home/nick/work/gala/src/ShadowEffect.vala"
		_tmp1_ = self->priv->current_key;
#line 67 "/home/nick/work/gala/src/ShadowEffect.vala"
		gala_shadow_effect_decrement_shadow_users (self, _tmp1_);
#line 1210 "ShadowEffect.c"
	}
#line 51 "/home/nick/work/gala/src/ShadowEffect.vala"
	_cogl_material_unref0 (self->priv->material);
#line 52 "/home/nick/work/gala/src/ShadowEffect.vala"
	_g_free0 (self->priv->current_key);
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
	G_OBJECT_CLASS (gala_shadow_effect_parent_class)->finalize (obj);
#line 1218 "ShadowEffect.c"
}


GType gala_shadow_effect_get_type (void) {
	static volatile gsize gala_shadow_effect_type_id__volatile = 0;
	if (g_once_init_enter (&gala_shadow_effect_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (GalaShadowEffectClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) gala_shadow_effect_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (GalaShadowEffect), 0, (GInstanceInitFunc) gala_shadow_effect_instance_init, NULL };
		GType gala_shadow_effect_type_id;
		gala_shadow_effect_type_id = g_type_register_static (clutter_effect_get_type (), "GalaShadowEffect", &g_define_type_info, 0);
		g_once_init_leave (&gala_shadow_effect_type_id__volatile, gala_shadow_effect_type_id);
	}
	return gala_shadow_effect_type_id__volatile;
}


static void _vala_gala_shadow_effect_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec) {
	GalaShadowEffect * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, GALA_TYPE_SHADOW_EFFECT, GalaShadowEffect);
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
	switch (property_id) {
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
		case GALA_SHADOW_EFFECT_SHADOW_SIZE:
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
		g_value_set_int (value, gala_shadow_effect_get_shadow_size (self));
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
		break;
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
		case GALA_SHADOW_EFFECT_SHADOW_SPREAD:
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
		g_value_set_int (value, gala_shadow_effect_get_shadow_spread (self));
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
		break;
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
		case GALA_SHADOW_EFFECT_SCALE_FACTOR:
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
		g_value_set_float (value, gala_shadow_effect_get_scale_factor (self));
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
		break;
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
		case GALA_SHADOW_EFFECT_SHADOW_OPACITY:
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
		g_value_set_uchar (value, gala_shadow_effect_get_shadow_opacity (self));
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
		break;
#line 1263 "ShadowEffect.c"
		default:
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
		break;
#line 1269 "ShadowEffect.c"
	}
}


static void _vala_gala_shadow_effect_set_property (GObject * object, guint property_id, const GValue * value, GParamSpec * pspec) {
	GalaShadowEffect * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, GALA_TYPE_SHADOW_EFFECT, GalaShadowEffect);
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
	switch (property_id) {
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
		case GALA_SHADOW_EFFECT_SHADOW_SIZE:
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
		gala_shadow_effect_set_shadow_size (self, g_value_get_int (value));
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
		break;
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
		case GALA_SHADOW_EFFECT_SHADOW_SPREAD:
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
		gala_shadow_effect_set_shadow_spread (self, g_value_get_int (value));
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
		break;
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
		case GALA_SHADOW_EFFECT_SCALE_FACTOR:
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
		gala_shadow_effect_set_scale_factor (self, g_value_get_float (value));
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
		break;
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
		case GALA_SHADOW_EFFECT_SHADOW_OPACITY:
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
		gala_shadow_effect_set_shadow_opacity (self, g_value_get_uchar (value));
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
		break;
#line 1303 "ShadowEffect.c"
		default:
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 22 "/home/nick/work/gala/src/ShadowEffect.vala"
		break;
#line 1309 "ShadowEffect.c"
	}
}



